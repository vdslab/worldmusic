(this.webpackJsonpworldmusic=this.webpackJsonpworldmusic||[]).push([[0],{113:function(e,t,n){"use strict";var c=n(1),r=n(7),i=(n(47),n(2)),s=n(6),a=(n(160),n(59),n(114)),o=n(0);t.a=function(e){for(var t=e.data,n=Object(i.b)(),l=Object(i.c)((function(e){return e.detail.selectClicked})),u=Object(i.c)((function(e){return e.detail.checkRaderFeatureClicked})),d=["acousticness","danceability","energy","instrumentalness","liveness","loudness","speechiness","valence"],j=d.length,b=50,h=[b,40,30,20,10],f=["","","","",""],O=[],x=[],p="",m=[],v=Math.PI/180,y=r.select(".tooltip-rader"),g=0;g<h.length;g++)for(var S=0;S<=j;S++){var w=d[S];S===j&&(w=d[0]);var k=50+h[g]*Math.cos((360/j*S-90)*v),N=50+h[g]*Math.sin((360/j*S-90)*v);if(0!==S?f[g]+="L "+k+","+N+" ":(f[g]+="M "+k+","+N+" ",x.push({x:k,y:N,value:(1-g/5).toFixed(1)})),S===j&&(f[g]+="z"),h[g]===b){var M=t[0][w].toFixed(3);"loudness"===w&&(M=((t[0].loudness+60)/60).toFixed(3));var C=50+b*M*Math.cos((360/j*S-90)*v),_=50+b*M*Math.sin((360/j*S-90)*v);if(p+=0!==S?"L "+C+","+_+" ":"M "+C+","+_+" ",S===j)p+="z";else{m.push({x:C,y:_,name:w,value:M}),O.push({x:k,y:N,name:w,legend:!1,value:M});var A=50+1.2*h[g]*Math.cos((360/j*S-90)*v),z=50+1.15*h[g]*Math.sin((360/j*S-90)*v);O.push({x:A,y:z,name:w,legend:!0})}}}var E=35,B=10,F=E+20+100,I=B+15+100;return Object(c.useEffect)((function(){l&&(n(Object(s.a)(u.map((function(e,t){return!1})))),n(Object(s.r)(!1)))}),[l]),Object(o.jsx)("div",{children:Object(o.jsx)("svg",{viewBox:"".concat(-E," ").concat(-B," ").concat(F+10," ").concat(I),style:{border:"solid 0px"},children:Object(o.jsxs)("g",{children:[f.map((function(e,t){return Object(o.jsx)("g",{children:Object(o.jsx)("path",{fill:"none",stroke:"lightgray",d:e,strokeWidth:"0.5"})},t)})),x.map((function(e,t){return Object(o.jsx)("g",{children:Object(o.jsx)("text",{x:e.x,y:e.y,textAnchor:"middle",dominantBaseline:"central",fontSize:"5",style:{userSelect:"none"},children:e.value})},t)})),O.map((function(e,t){return Object(o.jsx)("g",{children:e.legend?Object(o.jsx)(a.Link,{to:"ScrollToHeatmap",smooth:!0,offset:-20,children:Object(o.jsx)("text",{x:e.x,y:e.y,textAnchor:"middle",dominantBaseline:"central",onClick:function(){n(Object(s.a)(u.map((function(e,n){return n===t})))),n(Object(s.i)(e.name)),n(Object(s.d)("Yes"))},style:u[t]?{userSelect:"none",cursor:"pointer",fontSize:"8px",textDecoration:"underline"}:{userSelect:"none",cursor:"pointer",fontSize:"5px"},children:e.name})}):Object(o.jsx)("line",{x1:50,y1:50,x2:e.x,y2:e.y,id:e.name+" "+e.value,stroke:"lightgray",strokeWidth:"0.5",onMouseMove:function(t){y.style("visibility","visible"),y.style("top",t.pageY-20+"px").style("left",t.pageX+10+"px").html(e.value)},onMouseLeave:function(){y.style("visibility","hidden")}})},t)})),Object(o.jsx)("path",{fill:"#FF55BB",fillOpacity:"0.5",stroke:"#FF0099",strokeWidth:"0.5",d:p}),m.map((function(e,t){return Object(o.jsx)("g",{children:Object(o.jsx)("circle",{className:"test",id:e.name+" "+e.value,cx:e.x,cy:e.y,r:1.8,fill:"white",fillOpacity:.6,stroke:"#FF0099",strokeWidth:.5,onMouseMove:function(t){y.style("visibility","visible"),y.style("top",t.pageY-20+"px").style("left",t.pageX+10+"px").html(e.value)},onMouseLeave:function(){y.style("visibility","hidden")}})},t)}))]})})})}},12:function(e,t,n){"use strict";n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return x})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return v}));var c=n(5),r=n.n(c),i=n(11);function s(e){var t=new URLSearchParams;for(var n in e)e[n]&&t.append(n,e[n]);return t.toString()}function a(e,t){return o.apply(this,arguments)}function o(){return(o=Object(i.a)(r.a.mark((function e(t,n){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s(n),e.next=3,fetch("/.netlify/functions".concat(t,"?").concat(c));case 3:return i=e.sent,e.next=6,i.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t,n){return a("/getSwarmplt",{startMonth:e,feature:t,country:n})}function u(e,t,n,c,r){return a("/getSongData",{startMonth:e,endMonth:t,feature:n,country:c,musicId:r})}function d(e,t,n){return a("/getData",{feature:e,startmonth:t,region:n})}function j(){return a("/getGLtop",{})}function b(){return a("/getJPtop",{})}function h(){return a("/getDectop",{})}function f(e,t){return a("/getWorldmapData",{feature:e,startmonth:t})}function O(e,t,n){return a("/getBarData",{feature:e,startmonth:t,regionId:n})}function x(e,t){return a("/getRegionHeatmapData",{feature:e,startmonth:t})}function p(e){return a("/getJPGLTopStreamCountry",{musicId:e})}function m(e){return a("/getDECStreamCountry",{musicId:e})}function v(e,t){return a("/getHeatMapMinMax",{feature:e,startmonth:t})}},159:function(e,t,n){"use strict";n(1);var c=n(7),r=n(2),i=n(0);t.a=function(e){var t=Object(r.c)((function(e){return e.detail.feature})),n=e.max,s=e.min,a=e.color,o=e.id,l="url('#"+o+"')",u=2;"loudness"===t?u=1:"tempo"===t&&(u=0);for(var d=[[Math.floor(s*Math.pow(10,u))/Math.pow(10,u),0]],j=1;j<=10;j++){var b=s+(n-s)/10*j;b=10===j?Math.ceil(n*Math.pow(10,u))/Math.pow(10,u):Math.round(b*Math.pow(10,u))/Math.pow(10,u),d.push([b,0+25*j])}return Object(i.jsxs)("svg",{viewBox:"0 0 265 60",width:270,height:"55",children:[Object(i.jsx)("defs",{children:Object(i.jsxs)("linearGradient",{id:o,children:[Object(i.jsx)("stop",{offset:"0%",stopColor:c[a](0)}),Object(i.jsx)("stop",{offset:"5%",stopColor:c[a](.05)}),Object(i.jsx)("stop",{offset:"10%",stopColor:c[a](.1)}),Object(i.jsx)("stop",{offset:"15%",stopColor:c[a](.15)}),Object(i.jsx)("stop",{offset:"20%",stopColor:c[a](.2)}),Object(i.jsx)("stop",{offset:"25%",stopColor:c[a](.25)}),Object(i.jsx)("stop",{offset:"30%",stopColor:c[a](.3)}),Object(i.jsx)("stop",{offset:"35%",stopColor:c[a](.35)}),Object(i.jsx)("stop",{offset:"40%",stopColor:c[a](.4)}),Object(i.jsx)("stop",{offset:"45%",stopColor:c[a](.45)}),Object(i.jsx)("stop",{offset:"50%",stopColor:c[a](.5)}),Object(i.jsx)("stop",{offset:"55%",stopColor:c[a](.55)}),Object(i.jsx)("stop",{offset:"60%",stopColor:c[a](.6)}),Object(i.jsx)("stop",{offset:"65%",stopColor:c[a](.65)}),Object(i.jsx)("stop",{offset:"70%",stopColor:c[a](.7)}),Object(i.jsx)("stop",{offset:"75%",stopColor:c[a](.75)}),Object(i.jsx)("stop",{offset:"80%",stopColor:c[a](.8)}),Object(i.jsx)("stop",{offset:"85%",stopColor:c[a](.85)}),Object(i.jsx)("stop",{offset:"90%",stopColor:c[a](.9)}),Object(i.jsx)("stop",{offset:"95%",stopColor:c[a](.95)}),Object(i.jsx)("stop",{offset:"100%",stopColor:c[a](1)})]})}),Object(i.jsx)("rect",{x:"0",y:"10",width:250,height:"20",fill:l}),d.map((function(e,t){return Object(i.jsx)("line",{x1:e[1],y1:"30",x2:e[1],y2:"40",stroke:"black"},t)})),d.map((function(e,t){return Object(i.jsx)("text",{x:e[1],y:"50",fontSize:"10",textAnchor:"start",children:e[0]},t)}))]})}},160:function(e,t,n){"use strict";var c=n(5),r=n.n(c),i=n(11),s=n(4),a=n(1),o=n(7),l=n(2),u=n(6),d=(n(47),n(0));function j(e){var t=e.len,n=e.yAxis,c=e.name,r=e.h,i=Object(l.b)(),s=Object(l.c)((function(e){return e.detail.checkRegionClicked}));return Object(d.jsxs)("g",{children:[Object(d.jsx)("text",{transform:"\n                translate(-65 ".concat(r/2,")\n               "),textAnchor:"middle",dominantBaseline:"central",fontSize:"12",style:{userSelect:"none"},children:c}),n.map((function(e,n){return Object(d.jsx)("g",{transform:"translate(0, ".concat(t*n+t/2,")"),children:Object(d.jsx)("text",{x:"-5",textAnchor:"end",dominantBaseline:"central",onClick:function(){i(Object(u.b)(s.map((function(e,t){return t===n})))),i(Object(u.q)(e[0])),i(Object(u.m)(2))},style:s[n]?{userSelect:"none",cursor:"pointer",fontSize:"13px",textDecoration:"underline"}:{userSelect:"none",cursor:"pointer",fontSize:"8px"},children:e[1]})},n)}))]})}function b(e){var t=e.len,n=e.term,c=e.name,r=e.w;return Object(d.jsxs)("g",{children:[Object(d.jsx)("text",{transform:"translate(".concat(r/2," -40)"),textAnchor:"middle",dominantBaseline:"central",fontSize:"12",style:{userSelect:"none"},children:c}),n.map((function(e,n){return Object(d.jsx)("g",{transform:"translate(".concat(t*n+t,", -15) rotate(-45)"),children:Object(d.jsx)("text",{x:"0",textAnchor:"middle",dominantBaseline:"central",fontSize:"8",style:{userSelect:"none"},children:e.start})},n)}))]})}var h=function(e){Object(l.b)();var t=Object(a.useState)(-1),n=Object(s.a)(t,2),c=n[0],r=(n[1],Object(a.useState)(null)),i=Object(s.a)(r,2),u=(i[0],i[1]),h=e.data,f=e.max,O=e.min,x=e.y,p=["2017-01","2017-04","2017-07","2017-10","2018-01","2018-04","2018-07","2018-10","2019-01","2019-04","2019-07","2019-10","2020-01","2020-04","2020-07","2020-10","2021-01","2021-04","2021-07"],m=100,v=45,y=m+30+300,g=v+10+170,S=o.select(".tooltip-regionheat"),w=Object(a.useState)(null),k=Object(s.a)(w,2),N=k[0],M=k[1],C=15,_=function(e,t){var n="#F2F2F2";return e&&(n=o.interpolateTurbo(A(e,t))),n},A=function(e,t){return.9*(e-O)/(f-O)+.1};return Object(d.jsx)("div",{style:{height:"100%",justifyContent:"center",alignItems:"center"},children:Object(d.jsxs)("svg",{viewBox:"".concat(-m," ").concat(-v," ").concat(y," ").concat(g),style:{border:"solid 0px"},children:[Object(d.jsx)(j,{len:C,yAxis:[["Asia","\u30a2\u30b8\u30a2"],["Africa","\u30a2\u30d5\u30ea\u30ab"],["MiddleEast","\u4e2d\u6771"],["Oceania","\u30aa\u30bb\u30a2\u30cb\u30a2"],["NorthAmerica","\u5317\u7c73"],["CentralAmerica","\u4e2d\u7c73"],["SouthAmerica","\u5357\u7c73"],["NorthEurope","\u5317\u6b27"],["EastEurope","\u6771\u6b27"],["WestEurope","\u897f\u6b27"],["SouthEurope","\u5357\u6b27"]],name:"\u5730\u57df",h:170}),Object(d.jsx)(b,{len:C,term:[{start:"2017-01",end:"2017-03"},{start:"2017-04",end:"2017-06"},{start:"2017-07",end:"2017-09"},{start:"2017-10",end:"2017-12"},{start:"2018-01",end:"2018-03"},{start:"2018-04",end:"2018-06"},{start:"2018-07",end:"2018-09"},{start:"2018-10",end:"2018-12"},{start:"2019-01",end:"2019-03"},{start:"2019-04",end:"2019-06"},{start:"2019-07",end:"2019-09"},{start:"2019-10",end:"2019-12"},{start:"2020-01",end:"2020-03"},{start:"2020-04",end:"2020-06"},{start:"2020-07",end:"2020-09"},{start:"2020-10",end:"2020-12"},{start:"2021-01",end:"2021-03"},{start:"2021-04",end:"2021-06"},{start:"2021-07",end:"2021-09"}],name:"\u671f\u9593",w:300}),Object(d.jsx)("rect",{x:"0",y:"0",fill:"lightgray",height:C*x.length,width:C*p.length}),Object(d.jsx)("g",{onMouseLeave:function(){u(null)},children:x.map((function(e,t){return p.map((function(n,r){var i=n,s=(String(Number(i.split("-")[0])),String(Number(i.split("-")[1])+2));return 1===s.length&&(s="0"+s),Object(d.jsxs)("g",{children:[Object(d.jsx)("rect",{className:"cell",x:C*r,y:C*t,width:C,height:C,fill:_(h[e][n],n),onMouseMove:function(t){return function(e,t){M(void 0===t?"\uff08\u30c7\u30fc\u30bf\u306a\u3057\uff09":t.toFixed(3)),S.style("visibility","visible"),S.style("top",e.pageY-20+"px").style("left",e.pageX+10+"px").html(N)}(t,h[e][n])},onMouseLeave:function(){S.style("visibility","hidden")}}),Object(d.jsx)("rect",{x:C*r,y:C*t,width:14.5,height:14.5,fill:"none",stroke:"black",opacity:c===t*p.length+r?1:0})]},t*p.length+r)}))}))})]})})},f=(n(89),function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.detail.feature}));return Object(d.jsx)("div",{children:Object(d.jsx)("select",{value:t,onChange:function(t){e(Object(u.d)("Yes")),e(Object(u.i)(t.target.value)),e(Object(u.r)(!0))},children:["acousticness","danceability","energy","instrumentalness","liveness","loudness","mode","speechiness","tempo","time_signature","valence"].map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))})})}),O=n(159),x=n(12);t.a=function(){var e,t,n=Object(l.b)(),c=Object(l.c)((function(e){return e.detail.feature})),o=Object(l.c)((function(e){return e.detail.max})),j=Object(l.c)((function(e){return e.detail.min})),b=(Object(l.c)((function(e){return e.detail.isRegionShowed})),["2017-01","2017-04","2017-07","2017-10","2018-01","2018-04","2018-07","2018-10","2019-01","2019-04","2019-07","2019-10","2020-01","2020-04","2020-07","2020-10","2021-01","2021-04","2021-07"]),p={Asia:{},Africa:{},MiddleEast:{},Oceania:{},NorthAmerica:{},CentralAmerica:{},SouthAmerica:{},NorthEurope:{},EastEurope:{},WestEurope:{},SouthEurope:{}},m={},v=Object(a.useState)([]),y=Object(s.a)(v,2),g=y[0],S=y[1],w=Object(a.useState)(!1),k=Object(s.a)(w,2),N=k[0],M=k[1];return Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function i(){var s,a,o,l;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=s=1/0,t=a=-1/0,M(!1),n(Object(u.j)(!1)),o=r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.l)(c,b[t]);case 2:return e.sent.map((function(e){m[e.countryid]||(m[e.countryid]={}),m[e.countryid][b[t]]=e.value,e.value<s&&(s=e.value),e.value>a&&(a=e.value)})),e.next=6,Object(x.g)(c,b[t]);case 6:e.sent.map((function(e){p[e.region][b[t]]=e.value}));case 8:case"end":return e.stop()}}),e)})),l=0;case 8:if(!(l<b.length)){i.next=13;break}return i.delegateYield(o(l),"t0",10);case 10:l++,i.next=8;break;case 13:n(Object(u.n)(a)),n(Object(u.o)(s)),S(p),a!=t&&s!=e&&(e=s,t=a,M(!0));case 17:case"end":return i.stop()}}),i)})))()}),[c]),N?(n(Object(u.j)(!0)),Object(d.jsxs)("div",{className:"card-content p-1",style:{width:"100%"},children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(d.jsx)("div",{className:"card-content m-1",children:Object(d.jsx)("div",{className:"content",children:Object(d.jsx)(f,{})})}),Object(d.jsx)("div",{className:"card-content p-2 colorLegend",style:{height:"10%"},children:Object(d.jsx)("div",{className:"content",style:{height:"100%"},children:Object(d.jsx)(O.a,{max:o,min:j,color:"interpolateTurbo",id:"gradient1"})})})]}),Object(d.jsx)(h,{data:g,max:o,min:j,y:["Asia","Africa","MiddleEast","Oceania","NorthAmerica","CentralAmerica","SouthAmerica","NorthEurope","EastEurope","WestEurope","SouthEurope"]})]})):Object(d.jsx)("div",{className:"card-content",children:Object(d.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d\u30fb\u30fb\u30fb"})})}},251:function(e,t,n){"use strict";n(4),n(1),n(6),n(2),n(0)},252:function(e,t,n){"use strict";(function(e){var c=n(5),r=n.n(c),i=n(11),s=n(4),a=n(1),o=n(2),l=(n(6),n(12)),u=(n(7),n(113)),d=n(28),j=n.n(d),b=n(255),h=n(0),f=function(e){var t=e.data,n=e.musicKey;return Object(h.jsxs)("div",{className:"has-text-centered",style:{width:"100%",fontSize:"0.9rem"},children:[Object(h.jsxs)("p",{style:{marginBottom:"0px",cursor:"default"},children:["\u30c6\u30f3\u30dd\uff1a",Math.round(t[0].tempo),"\u3000 \u62cd\u5b50\uff1a",t[0].time_signature,"\u3000 \u8abf\uff1a",{0:"\u30cf",1:"\u5b30\u30cf/\u5909\u4e8c",2:"\u30cb",3:"\u5b30\u30cb/\u5909\u30db",4:"\u30db",5:"\u30d8",6:"\u5b30\u30d8/\u5909\u30c8",7:"\u30c8",8:"\u5b30\u30c8/\u5909\u30a4",9:"\u30a4",10:"\u5b30\u30a4/\u5909\u30ed",11:"\u30ed"}[n],0==t[0].mode?"\u77ed\u8abf":"\u9577\u8abf"]}),Object(h.jsx)("br",{})]})},O=function(){var e=Object(a.useState)({musicid:1}),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.d)();case 2:t=e.sent,c({musicid:t[0].musicid});case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(h.jsx)(m,{id:n.musicid,listnumber:0})},x=function(){var e=Object(a.useState)({musicid:1}),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.f)();case 2:t=e.sent,c({musicid:t[0].musicid});case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(h.jsx)(m,{id:n.musicid,listnumber:1})},p=function(){var e=Object(a.useState)({musicid:1}),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)();case 2:t=e.sent,c({musicid:t[0].musicid});case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(h.jsx)(m,{id:n.musicid,listnumber:2})},m=function(t){Object(o.b)(),Object(o.c)((function(e){return e.detail.country})),Object(o.c)((function(e){return e.detail.choosedCountry})),Object(o.c)((function(e){return e.detail.choosedFeature})),Object(o.c)((function(e){return e.detail.choosedPeriod}));var n,c=t.id,d=t.listnumber,O=Object(a.useState)([]),x=Object(s.a)(O,2),p=x[0],m=x[1];Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==d){e.next=7;break}return e.next=3,Object(l.k)(c);case 3:t=e.sent,m(t),e.next=11;break;case 7:return e.next=9,Object(l.e)(c);case 9:n=e.sent,m(n);case 11:case"end":return e.stop()}}),e)})))()}),[c]);var v=Object(a.useState)(null),y=Object(s.a)(v,2),g=y[0],S=y[1],w=Object(a.useState)([]),k=Object(s.a)(w,2),N=k[0],M=k[1],C=Object(a.useState)(null),_=Object(s.a)(C,2),A=_[0],z=_[1],E="b094df9818f245aba74ada3925a663ed",B="fd2a2adedce44539868b565adb79a9f8",F={url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic "+new e.from(E+":"+B).toString("base64")},form:{grant_type:"client_credentials"},json:!0};return Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.h)("","","","ALL",c);case 2:t=e.sent,M(t),j.a.post(F,(function(e,n,r){if(!e&&200===n.statusCode&&t.length>0){var i=r.access_token,s={url:"https://api.spotify.com/v1/tracks/".concat(c),headers:{Authorization:"Bearer "+i},json:!0};j.a.get(s,(function(e,t,n){S(n)}))}})),j.a.post(F,(function(e,n,r){if(!e&&200===n.statusCode&&t.length>0){var i=r.access_token,s={url:"https://api.spotify.com/v1/audio-features/".concat(c),headers:{Authorization:"Bearer "+i},json:!0};j.a.get(s,(function(e,t,n){z(n.key)}))}}));case 6:case"end":return e.stop()}}),e)})))()}),[c]),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"card-content",style:{paddingTop:"12px",paddingBottom:"12px"},children:Object(h.jsx)("div",{className:"content",children:N.length>0?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("a",{href:null===g||void 0===g?void 0:g.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:Object(h.jsx)("b",{style:{fontSize:"1.25rem"},children:null===(n=N[0])||void 0===n?void 0:n.name})}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{style:{fontSize:"0.85rem"},children:["\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8 : \u2002",null===g||void 0===g?void 0:g.artists.map((function(e,t){return Object(h.jsxs)("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:[0!==t?" / ":[],e.name]})}))]}),Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{style:{paddingTop:"1px"},children:[Object(h.jsx)(u.a,{data:N}),Object(h.jsx)(f,{data:N,musicKey:A})]}),Object(h.jsx)("audio",{controls:!0,src:null===g||void 0===g?void 0:g.preview_url,style:{width:"100%"}})]}):Object(h.jsx)("div",{children:Object(h.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u30c7\u30fc\u30bf\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002"})})})}),N.length>0?Object(h.jsx)("div",{className:"content",children:Object(h.jsx)(b.a,{data:p})}):Object(h.jsx)("div",{className:"content"})]})};t.a=function(){var e=Object(a.useState)([{musicid:""},{musicid:""},{musicid:""}]),t=Object(s.a)(e,2);t[0],t[1];return Object(h.jsxs)("div",{class:"tile is-ancestor",children:[Object(h.jsx)("div",{class:"tile is-parent",children:Object(h.jsx)("article",{class:"tile is-child box",children:Object(h.jsx)(O,{})})}),Object(h.jsx)("div",{class:"tile is-parent",children:Object(h.jsx)("article",{class:"tile is-child box",children:Object(h.jsx)(x,{})})}),Object(h.jsx)("div",{class:"tile is-parent",children:Object(h.jsx)("article",{class:"tile is-child box",children:Object(h.jsx)(p,{})})})]})}}).call(this,n(10).Buffer)},255:function(e,t,n){"use strict";var c=n(5),r=n.n(c),i=n(11),s=n(4),a=n(1),o=n(7),l=n(89),u=(n(12),n(6),n(2),n(47),n(59),n(0)),d=function(e){var t=e.features,n=e.data,c=Object(a.useState)(null),r=Object(s.a)(c,2),i=r[0],l=r[1],d=Object(a.useState)(null),j=Object(s.a)(d,2),b=j[0],h=j[1],f=10,O=10,x=o.geoMercator().center([0,0]).translate([300,200]).scale(90),p=o.geoPath().projection(x),m=o.select(".tooltip-world"),v=function(e){var t="#F2F2F2";return n.map((function(n){n.countryid===e.properties.ISO_A2&&(t="red")})),t};return Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("div",{style:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},children:Object(u.jsx)("svg",{viewBox:"".concat(45-f," ").concat(-O-55," ").concat(600," ").concat(400),style:{border:"solid 0px"},children:Object(u.jsx)("g",{children:t.map((function(e,t){return Object(u.jsx)("path",{d:p(e),fill:v(e),stroke:"black",strokeWidth:"1",strokeOpacity:"0.5",countryname:e,onMouseMove:function(t){l(e.properties.NAME_JA),h(e.properties.ISO_A2),m.style("visibility","visible"),m.style("top",t.pageY-20+"px").style("left",t.pageX+10+"px").html(i+"("+b+")")},onMouseLeave:function(){m.style("visibility","hidden")}},t)}))})})})})},j=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/data/worldmap.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c=l.a(n,n.objects.worldmap),i=c.features,o(i);case 8:case"end":return e.stop()}}),e)})))()}),[]),null==c?Object(u.jsx)("p",{children:"loading"}):Object(u.jsx)(d,{features:c,data:e.data})};t.a=function(e){return Object(u.jsx)(j,{data:e.data})}},256:function(e,t,n){"use strict";(function(e){var c=n(5),r=n.n(c),i=n(11),s=n(4),a=n(1),o=n(28),l=n.n(o),u=n(12),d=n(2),j=(n(7),n(59),n(0));t.a=function(){var t="b094df9818f245aba74ada3925a663ed",n="fd2a2adedce44539868b565adb79a9f8",c={url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic "+new e.from(t+":"+n).toString("base64")},form:{grant_type:"client_credentials"},json:!0},o=Object(d.c)((function(e){return e.detail.isRegionShowed})),b=Object(d.c)((function(e){return e.detail.isSwmpltChoosed})),h=Object(d.c)((function(e){return e.detail.country})),f=Object(d.c)((function(e){return e.detail.musicid})),O=Object(a.useState)([]),x=Object(s.a)(O,2),p=x[0],m=x[1];return console.log(h),Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.h)("","","","ALL",f);case 2:t=e.sent,l.a.post(c,(function(e,n,c){if(!e&&200===n.statusCode&&t.length>0){var r=c.access_token,i={url:"https://api.spotify.com/v1/recommendations?limit=1&seed_tracks=".concat(t[0].musicid,"&target_acousticness=").concat(t[0].acousticness,"&target_danceability=").concat(t[0].danceability,"&target_energy=").concat(t[0].energy,"&target_instrumentalness=").concat(t[0].instrumentalness,"&target_liveness=").concat(t[0].liveness,"&target_loudness=").concat(t[0].loudness,"&target_mode=").concat(t[0].mode,"&target_speechiness=").concat(t[0].speechiness,"&target_tempo=").concat(t[0].tempo,"&target_time_signature=").concat(t[0].time_signature,"&target_valence=").concat(t[0].valence),headers:{Authorization:"Bearer "+r},json:!0};l.a.get(i,(function(e,t,n){m(n.tracks)}))}}));case 4:case"end":return e.stop()}}),e)})))()}),[f]),b&&!o?Object(j.jsx)("div",{className:"card-content",children:Object(j.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d\u30fb\u30fb\u30fb"})}):0===h.length?Object(j.jsx)("div",{className:"card-content",style:{height:"100%"},children:Object(j.jsx)("p",{style:{fontSize:"1.25rem",marginBottom:"5px"},children:"\u985e\u4f3c\u66f2"})}):Object(j.jsxs)("div",{className:"card-content",style:{height:"100%"},children:[Object(j.jsx)("p",{style:{fontSize:"1.25rem",marginBottom:"5px"},children:"\u985e\u4f3c\u66f2"}),console.log(p),p.map((function(e,t){return Object(j.jsx)("div",{style:{width:"100%",fontSize:"40"},children:Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(j.jsx)("div",{style:{width:"50%",paddingTop:"5px"},children:Object(j.jsx)("img",{src:e.album.images[0].url,width:"250",style:{float:"left",paddingRight:"20px"}})}),Object(j.jsx)("div",{style:{width:"100%",paddingTop:"5px"},children:Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{style:{fontSize:"1.2rem"},children:Object(j.jsx)("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:e.name})}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{style:{fontSize:"0.85rem"},children:["\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\uff1a",Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:e.artists.map((function(e,t){return Object(j.jsxs)("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:[0!==t?" / ":[],e.name]})}))})]})]})})]})})}))]})}}).call(this,n(10).Buffer)},257:function(e,t,n){"use strict";(function(e){var c=n(5),r=n.n(c),i=n(11),s=n(4),a=n(1),o=n(12),l=n(113),u=n(2),d=n(28),j=n.n(d),b=n(0),h=function(e){var t=e.data,n=e.musicKey;return Object(b.jsxs)("div",{style:{width:"100%",fontSize:"0.9rem"},children:[Object(b.jsxs)("p",{style:{marginBottom:"0px",cursor:"default"},children:["\u30c6\u30f3\u30dd\uff1a",Math.round(t[0].tempo),"\u3000 \u62cd\u5b50\uff1a",t[0].time_signature,"\u3000 \u8abf\uff1a",{0:"\u30cf",1:"\u5b30\u30cf/\u5909\u4e8c",2:"\u30cb",3:"\u5b30\u30cb/\u5909\u30db",4:"\u30db",5:"\u30d8",6:"\u5b30\u30d8/\u5909\u30c8",7:"\u30c8",8:"\u5b30\u30c8/\u5909\u30a4",9:"\u30a4",10:"\u5b30\u30a4/\u5909\u30ed",11:"\u30ed"}[n],0==t[0].mode?"\u77ed\u8abf":"\u9577\u8abf"]}),Object(b.jsx)("br",{})]})};t.a=function(){var t,n,c=Object(u.c)((function(e){return e.detail.isRegionShowed})),d=Object(u.c)((function(e){return e.detail.isSwmpltChoosed})),f=Object(u.c)((function(e){return e.detail.country})),O=Object(u.c)((function(e){return e.detail.musicid})),x=Object(a.useState)(null),p=Object(s.a)(x,2),m=p[0],v=p[1],y=Object(a.useState)([]),g=Object(s.a)(y,2),S=g[0],w=g[1],k=Object(a.useState)(null),N=Object(s.a)(k,2),M=N[0],C=N[1],_="b094df9818f245aba74ada3925a663ed",A="fd2a2adedce44539868b565adb79a9f8",z={url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic "+new e.from(_+":"+A).toString("base64")},form:{grant_type:"client_credentials"},json:!0};return Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.h)("","","","ALL",O);case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})))()}),[O]),Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.h)("","","","ALL",O);case 2:t=e.sent,w(t),j.a.post(z,(function(e,n,c){if(!e&&200===n.statusCode&&t.length>0){var r=c.access_token,i={url:"https://api.spotify.com/v1/tracks/".concat(O),headers:{Authorization:"Bearer "+r},json:!0};j.a.get(i,(function(e,t,n){v(n)}))}})),j.a.post(z,(function(e,n,c){if(!e&&200===n.statusCode&&t.length>0){var r=c.access_token,i={url:"https://api.spotify.com/v1/audio-features/".concat(O),headers:{Authorization:"Bearer "+r},json:!0};j.a.get(i,(function(e,t,n){C(n.key)}))}}));case 6:case"end":return e.stop()}}),e)})))()}),[O]),d&&!c?Object(b.jsx)("div",{className:"card-content",style:{height:"100%"},children:Object(b.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d\u30fb\u30fb\u30fb"})}):0===f.length?Object(b.jsx)("div",{className:"card-content",style:{height:"100%"},children:Object(b.jsx)("p",{style:{fontSize:"1.25rem",marginBottom:"5px"},children:"\u66f2\u8a73\u7d30"})}):Object(b.jsx)("div",{className:"card",style:{height:"100%"},children:Object(b.jsx)("div",{className:"card-content",children:Object(b.jsx)("div",{className:"content",children:S.length>0?Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(b.jsxs)("div",{style:{width:"100%",paddingTop:"5px"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("a",{href:null===m||void 0===m?void 0:m.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:Object(b.jsx)("b",{style:{fontSize:"1.2rem"},children:null===(t=S[0])||void 0===t?void 0:t.name})}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{style:{fontSize:"0.85rem"},children:["\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8 : \u2002",null===m||void 0===m?void 0:m.artists.map((function(e,t){return Object(b.jsxs)("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:[0!==t?" / ":[],e.name]})}))]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(h,{data:S,musicKey:M}),Object(b.jsx)("audio",{controls:!0,src:null===m||void 0===m?void 0:m.preview_url,style:{width:"100%"}})]}),Object(b.jsxs)("div",{style:{width:"100%",paddingTop:"5px"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("a",{href:null===m||void 0===m?void 0:m.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:Object(b.jsx)("b",{style:{fontSize:"1.2rem"},children:null===(n=S[0])||void 0===n?void 0:n.name})}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{style:{fontSize:"0.85rem"},children:["\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8 : \u2002",null===m||void 0===m?void 0:m.artists.map((function(e,t){return Object(b.jsxs)("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",children:[0!==t?" / ":[],e.name]})}))]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(h,{data:S,musicKey:M}),Object(b.jsx)("audio",{controls:!0,src:null===m||void 0===m?void 0:m.preview_url,style:{width:"100%"}})]}),Object(b.jsx)("div",{style:{width:"100%",paddingTop:"5px"},children:Object(b.jsx)(l.a,{data:S})})]}):Object(b.jsx)("div",{children:Object(b.jsx)("p",{style:{fontSize:"1.25rem",marginBottom:"5px"},children:"\u66f2\u8a73\u7d30"})})})})})}}).call(this,n(10).Buffer)},258:function(e,t,n){"use strict";(function(e){var c=n(5),r=n.n(c),i=n(11),s=n(4),a=n(1),o=n(2),l=n(6),u=n(12),d=(n(251),n(0));t.a=function(){var t=Object(o.b)(),n="b094df9818f245aba74ada3925a663ed",c="fd2a2adedce44539868b565adb79a9f8",j=(new e.from(n+":"+c).toString("base64"),Object(o.c)((function(e){return e.detail.startMonth}))),b=Object(o.c)((function(e){return e.detail.endMonth})),h=Object(o.c)((function(e){return e.detail.feature})),f=Object(o.c)((function(e){return e.detail.country})),O=Object(o.c)((function(e){return e.detail.musicid})),x=Object(o.c)((function(e){return e.detail.name})),p=Object(o.c)((function(e){return e.detail.sorted})),m=Object(a.useState)([]),v=Object(s.a)(m,2),y=v[0],g=v[1];Object(a.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.i)(j,b,h,f,O,x);case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})))()}),[j,b,h,f,O,x]);var S=y.filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}));return"\u6607\u9806"===p?S.sort((function(e,t){return e[h]-t[h]})):S.sort((function(e,t){return t[h]-e[h]})),Object(d.jsx)("body",{children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("table",{className:"table",children:Object(d.jsx)("tbody",{children:S.map((function(e,n){return Object(d.jsx)("div",{onClick:function(){return t(Object(l.p)(e.musicid))},children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:n+1}),Object(d.jsx)("span",{style:{color:"#3273dc",cursor:"pointer"},children:Object(d.jsx)("td",{children:e.name})})]})})}))})})})})}}).call(this,n(10).Buffer)},292:function(e,t){},294:function(e,t){},304:function(e,t){},306:function(e,t){},331:function(e,t){},333:function(e,t){},334:function(e,t){},339:function(e,t){},341:function(e,t){},360:function(e,t){},372:function(e,t){},375:function(e,t){},380:function(e,t){},382:function(e,t){},405:function(e,t){},47:function(e,t,n){},498:function(e,t,n){"use strict";n.r(t);var c=n(70),r=n(4),i=n(1),s=n(92),a=n(19),o=n(252),l=n(160),u=n(256),d=n(0),j=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(u.a,{})})},b=n(257),h=n(5),f=n.n(h),O=n(11),x=n(2),p=n(6),m=n(12),v=(n(251),n(258),n(34)),y=n(510),g=n(505),S=n(506),w=n(508),k=n(507),N=n(503),M=n(7),C=(n(47),n(59),n(114)),_=function(e){var t=e.width,n=e.height,c=e.c,s=e.s,a=(Object(x.c)((function(e){return e.detail.country})),Object(x.c)((function(e){return e.detail.startMonth})),Object(x.c)((function(e){return e.detail.isSwmpltShowed})),Object(x.b)()),o=10,l=60,u=Object(i.useRef)(),j=M.select(u.current),b=Object(i.useState)([]),h=Object(r.a)(b,2),_=h[0],A=h[1],z=Object(x.c)((function(e){return e.detail.startMonth})),E=Object(x.c)((function(e){return e.detail.endMonth})),B=Object(x.c)((function(e){return e.detail.feature})),F=Object(x.c)((function(e){return e.detail.country})),I=(Object(x.c)((function(e){return e.detail.musicid})),Object(x.c)((function(e){return e.detail.isSwmpltChoosed})),Object(x.c)((function(e){return e.detail.swarmpltMin}))),R=Object(x.c)((function(e){return e.detail.swarmpltMax})),L=Object(i.useState)(-1/0),Y=Object(r.a)(L,2),T=(Y[0],Y[1],Object(i.useState)(1/0)),D=Object(r.a)(T,2);D[0],D[1];Object(i.useEffect)((function(){Object(O.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.i)(s,B,c);case 2:t=e.sent,n={},t.map((function(e){n[e.musicid]?n[e.musicid].stream=n[e.musicid].stream+e.stream:(n[e.musicid]=Object(v.a)({musicid:e.musicid,stream:e.stream,name:e.name},B,e[B]),R<e[B]&&a(Object(p.v)(e[B])),I>e[B]&&a(Object(p.w)(e[B])))})),r=Object.keys(n).map((function(e){return n[e]})),A(r);case 7:case"end":return e.stop()}}),e)})))(),M.select(u.current).attr("width",t).attr("height",n).append("g").attr("transform","translate(".concat(l,", ").concat(o,")"))}),[z,E,B,F]),Object(i.useEffect)((function(){P()}),[_]);var P=function(){var e=M.select(".tooltip-swarm"),t=j.select("g"),n=Object(k.a)().domain(Object(N.a)(_.map((function(e){return+e[B]})))).range([10,525]),c=Object(N.a)(_.map((function(e){return e.stream})));c=c.map((function(e){return Math.sqrt(e)}));var r=Object(k.a)().domain(c).range([2,13]),i=Object(y.a)(_).force("x",Object(g.a)((function(e){return n(e[B])})).strength(5)).force("y",Object(S.a)((function(e){return 150})).strength(.2)).force("collide",Object(w.a)((function(e){return r(Math.sqrt(e.stream))}))).alphaDecay(0).alpha(.3).on("tick",(function(){return t.selectAll("circle").data(_).join("circle").style("fill",(function(e){return M.interpolatePuRd(.9*(e[B]-I)/(R-I)+.1)})).attr("stroke","black").on("mouseover",(function(t,n){e.style("visibility","visible").html("\u66f2\u540d : "+n.name)})).on("mousemove",(function(t){e.style("top",t.pageY-20+"px").style("left",t.pageX+10+"px")})).on("mouseout",(function(t){e.style("visibility","hidden")})).on("click",(function(e,t){a(Object(p.p)(t.musicid)),a(Object(p.k)(!0)),console.log(t.musicid)})).attr("stroke-width","0.1").attr("opacity",.7).attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).attr("r",(function(e){return r(Math.sqrt(e.stream))})).style("cursor","pointer").append})),s=(setTimeout((function(){i.alphaDecay(.1)}),1e3),M.axisBottom().scale(n));t.selectAll(".x.axis").data([null]).join("g").attr("class","axisBlack").classed("x axis",!0).attr("transform","translate(0,-20)").transition().duration(500).call(s)};return Object(d.jsx)("div",{children:Object(d.jsx)(C.Link,{to:"ScrollToSong",smooth:!0,offset:-20,children:Object(d.jsx)("div",{className:"swmplt-scroll",children:Object(d.jsx)("svg",{width:"650",height:"300",viewBox:"0 -20 650 350",ref:u})})})})};function A(){var e=Object(x.c)((function(e){return e.detail.selectedCount})),t=M.select(".tooltip-questionMark");return e?Object(d.jsx)("div",{className:"section p-1",style:{display:"flex",justifyContent:"flex-end"},children:Object(d.jsx)("div",{className:"questionmark",onMouseEnter:function(e){t.style("visibility","visible"),t.style("top",e.pageY-30+"px").style("left",e.pageX-500+"px").html("\u66f2\u306e\u518d\u751f\u56de\u6570\u304c\u591a\u3044\u307b\u3069\u5186\u306e\u5927\u304d\u3055\u306f\u5927\u304d\u304f\u306a\u3063\u3066\u3044\u308b\u3002")},onMouseLeave:function(){t.style("visibility","hidden")},children:"?"})}):Object(d.jsxs)("div",{className:"section p-1",style:{display:"flex",justifyContent:"flex-end"},children:[alert("\u4e00\u5ea6\u306b\u8868\u793a\u3067\u304d\u308bswarmplot\u306f3\u3064\u307e\u3067\u3067\u3059\u3002"),Object(d.jsx)("div",{className:"questionmark",onMouseEnter:function(e){t.style("visibility","visible"),t.style("top",e.pageY-30+"px").style("left",e.pageX-500+"px").html("\u66f2\u306e\u518d\u751f\u56de\u6570\u304c\u591a\u3044\u307b\u3069\u5186\u306e\u5927\u304d\u3055\u306f\u5927\u304d\u304f\u306a\u3063\u3066\u3044\u308b\u3002")},onMouseLeave:function(){t.style("visibility","hidden")},style:{float:"right"},children:"?"})]})}function z(e){var t=e.countries,n=e.startMonths,c=e.isSwarmpltShowed,r=Object(x.b)();return console.log(c),Object(d.jsx)("div",{className:"p-1",style:{justifyContent:"center"},children:t.map((function(e,c){String(Number(n[c].split("-")[0]));var i=String(Number(n[c].split("-")[1])+2);return 1===i.length&&(i="0"+i),Object(d.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("label",{children:[e,"(",n[c],"~",i,")\u3000"]}),Object(d.jsx)("button",{className:"delete is-medium",onClick:function(){return function(e){var c=n.filter((function(t,n){return e!=n})),i=t.filter((function(t,n){return e!=n}));r(Object(p.u)(c)),r(Object(p.f)(i)),r(Object(p.s)(!0))}(c)},style:{float:"right"}})]}),Object(d.jsx)(_,{c:t[c],s:n[c]})]})}))})}function E(){var e=Object(x.b)();return Object(d.jsx)("div",{className:"content has-text-centered",children:Object(d.jsx)("button",{className:"button",onClick:function(){e(Object(p.f)([])),e(Object(p.u)([])),e(Object(p.l)([])),e(Object(p.s)(!0))},children:"\u56fd\u30fb\u671f\u9650\u3092\u9078\u3073\u76f4\u3059"})})}var B=function(){var e=Object(x.c)((function(e){return e.detail.country})),t=Object(x.c)((function(e){return e.detail.feature})),n=Object(x.c)((function(e){return e.detail.startMonth})),c=Object(x.c)((function(e){return e.detail.choosedCountry})),s=Object(x.c)((function(e){return e.detail.choosedFeature})),a=Object(x.c)((function(e){return e.detail.choosedPeriod})),o=Object(x.c)((function(e){return e.detail.isRegionShowed})),l=Object(x.c)((function(e){return e.detail.isSwmpltShowed})),u=(Object(x.c)((function(e){return e.detail.selectedCount})),Object(i.useState)([])),j=Object(r.a)(u,2),b=j[0],h=j[1],p=Object(i.useState)([]),m=Object(r.a)(p,2),v=m[0],y=m[1],g=Object(i.useState)([]),S=Object(r.a)(g,2),w=S[0],k=S[1];return Object(i.useEffect)((function(){Object(O.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(e),y(n),k(l);case 3:case"end":return t.stop()}}),t)})))()}),[e,n,l]),"No"===c&&"No"===s&&"No"===a?Object(d.jsx)("div",{className:"card-content",style:{width:"100%"},children:Object(d.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u56fd\u30fb\u671f\u9593\u30fb\u7279\u5fb4\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002"})}):0===b.length&&0===v.length?Object(d.jsx)("div",{className:"card-content",style:{height:"100%"},children:Object(d.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u56fd\u30fb\u671f\u9593\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002"})}):"Yes"===c&&"Yes"===s&&"Yes"===a||"Yes"===c&&"No"===s&&"Yes"===a?o?Object(d.jsxs)("div",{className:"card-content p-1",style:{width:"100%"},children:[Object(d.jsx)(A,{}),Object(d.jsx)(z,{countries:b,startMonths:v,isSwarmpltShowed:w}),Object(d.jsx)(E,{})]}):Object(d.jsx)("div",{className:"card-content ",style:{height:"100%"},children:Object(d.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d\u30fb\u30fb\u30fb"})}):"No"===c&&"No"===a?Object(d.jsx)("div",{className:"card-content ",style:{height:"100%"},children:Object(d.jsxs)("p",{style:{fontSize:"1.25rem"},children:["\u56fd\u30fb\u671f\u9593\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002",Object(d.jsx)("br",{}),"\uff08\u7279\u5fb4\uff1a",t,"\uff09"]})}):void 0},F=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"title",children:"\uff1c\u7528\u8a9e\u8aac\u660e\u306b\u3064\u3044\u3066\uff1e"}),"\uff08\u4ee5\u4e0b\u306e\u7528\u8a9e\u8aac\u660e\u306f",Object(d.jsx)("a",{href:"https://developer.spotify.com/documentation/web-api/reference/#objects-index",target:"_blank",rel:"noopener noreferrer",children:"\u3053\u3061\u3089"}),"\u3088\u308a\u76f4\u8a33\u3057\u305f\u3082\u306e\u3067\u3042\u308b\u3002\uff09",Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"subtitle is-5",children:"acousticness\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"0.0\u304b\u30891.0\u307e\u3067\u306e\u5024\u3067\u3001\u30c8\u30e9\u30c3\u30af\u304c\u30a2\u30b3\u30fc\u30b9\u30c6\u30a3\u30c3\u30af\u304b\u3069\u3046\u304b\u3092\u793a\u3059\u30021.0\u306f\u30c8\u30e9\u30c3\u30af\u304c\u30a2\u30b3\u30fc\u30b9\u30c6\u30a3\u30c3\u30af\u3067\u3042\u308b\u3068\u3044\u3046\u8a55\u4fa1\u304c\u9ad8\u3044\u3053\u3068\u3092\u8868\u3059\u3002"}),Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"title is-5",children:"danceability\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"\u30c6\u30f3\u30dd\u3001\u30ea\u30ba\u30e0\u306e\u5b89\u5b9a\u6027\u3001\u30d3\u30fc\u30c8\u306e\u5f37\u3055\u3001\u5168\u4f53\u7684\u306a\u898f\u5247\u6027\u306a\u3069\u306e\u97f3\u697d\u8981\u7d20\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u57fa\u3065\u304d\u3001\u30c8\u30e9\u30c3\u30af\u304c\u30c0\u30f3\u30b9\u306b\u3069\u306e\u7a0b\u5ea6\u9069\u3057\u3066\u3044\u308b\u304b\u3092\u793a\u3059\u30020.0\u306f\u6700\u3082\u8e0a\u308a\u3084\u3059\u304f\u306a\u304f\u30011.0\u306f\u6700\u3082\u8e0a\u308a\u3084\u3059\u3044\u3002"}),Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"title is-5",children:"energy\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"\u6fc0\u3057\u3055\u3068\u6d3b\u767a\u3055\u3092\u77e5\u899a\u3067\u304d\u308b\u7a0b\u5ea6\u306e\u6570\u5b57\u3067\u8868\u3057\u30010.0\u304b\u30891.0\u307e\u3067\u306e\u5024\u3067\u8a08\u6e2c\u3059\u308b\u3002\u901a\u5e38\u3001\u30a8\u30cd\u30eb\u30ae\u30c3\u30b7\u30e5\u306a\u30c8\u30e9\u30c3\u30af\u306f\u65e9\u304f\u3001\u5927\u304d\u304f\u3001\u30ce\u30a4\u30ba\u304c\u591a\u3044\u3068\u611f\u3058\u308b\u3002\u4f8b\u3048\u3070\u3001\u30c7\u30b9\u30e1\u30bf\u30eb\u306f\u30a8\u30cd\u30eb\u30ae\u30fc\u304c\u9ad8\u3044\u306e\u306b\u5bfe\u3057\u3001\u30d0\u30c3\u30cf\u306e\u524d\u594f\u66f2\u306f\u4f4e\u304f\u306a\u3063\u3066\u3044\u308b\u3002\u77e5\u899a\u3067\u304d\u308b\u3068\u5224\u65ad\u3055\u308c\u308b\u8981\u7d20\u306b\u306f\u3001\u30c0\u30a4\u30ca\u30df\u30c3\u30af\u30ec\u30f3\u30b8\u3001\u97f3\u306e\u5927\u304d\u3055\u3001\u97f3\u8272\u3001\u51fa\u3060\u3057\uff08\u982d\u5b50\u97f3\uff09\u3001\u304a\u3088\u3073\u4e00\u822c\u7684\u306a\u30a8\u30f3\u30c8\u30ed\u30d4\u30fc\u304c\u542b\u307e\u308c\u308b\u3002"}),Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"title is-5",children:"instrumentalness\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"\u30c8\u30e9\u30c3\u30af\u306b\u30dc\u30fc\u30ab\u30eb\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u304b\u3069\u3046\u304b\u3092\u4e88\u6e2c\u3059\u308b\u3002\u306a\u304a\u3001\u300cOoh\u300d\u3068\u300caah\u300d\u306e\u97f3\u306f\u697d\u5668\u3068\u3057\u3066\u53d6\u308a\u6271\u3046\u3002\u30e9\u30c3\u30d7\u3084\u30b9\u30dd\u30fc\u30af\u30f3\u30ef\u30fc\u30c9\uff08\u558b\u308a\u8a00\u8449\uff09\u306e\u30c8\u30e9\u30c3\u30af\u306f\u660e\u3089\u304b\u306b\u300c\u30dc\u30fc\u30ab\u30eb\u300d\u3067\u3042\u308b\u3002\u697d\u5668\u6027\u306e\u5024\u304c1.0\u306b\u8fd1\u3044\u307b\u3069\u3001\u30c8\u30e9\u30c3\u30af\u306b\u30dc\u30fc\u30ab\u30eb\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u30020.5\u3092\u8d85\u3048\u308b\u5024\u306f\u697d\u5668\u6027\u306e\u9ad8\u3044\u30c8\u30e9\u30c3\u30af\u3092\u8868\u3059\u304c\u3001\u5024\u304c1.0\u306b\u8fd1\u3065\u304f\u306b\u3064\u308c\u3001\u8a55\u4fa1\u304c\u9ad8\u3044\uff08\u30dc\u30fc\u30ab\u30eb\u3092\u542b\u307e\u306a\u3044\u7a0b\u5ea6\uff09\u3068\u3044\u3046\u3053\u3068\u3092\u793a\u3059\u3002"}),Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"title is-5",children:"liveness\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"\u30ec\u30b3\u30fc\u30c9\u306e\u306a\u304b\u306b\u8074\u8846\u306e\u5b58\u5728\u304c\u3069\u308c\u304f\u3089\u3044\u3042\u308b\u306e\u304b\u3092\u691c\u51fa\u3059\u308b\u3002\u5024\u304c\u9ad8\u3044\u307b\u3069\u3001\u305d\u306e\u30c8\u30e9\u30c3\u30af\u304c\u30e9\u30a4\u30d6\u3067\u6f14\u594f\u3055\u308c\u305f\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3002 \u5024\u304c0.8 \u3092\u8d85\u3059\u5834\u5408\u306f\u3001\u305d\u306e\u30c8\u30e9\u30c3\u30af\u304c\u30e9\u30a4\u30d6\uff08\u751f\u6f14\u594f\uff09\u3067\u3042\u308b\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3053\u3068\u3092\u793a\u3059\u3002"}),Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"title is-5",children:"loudness\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"\u97f3\u306e\u5f37\u3055\u30fb\u5927\u304d\u3055\u3001\u30c8\u30e9\u30c3\u30af\u306e\u5168\u4f53\u306e\u97f3\u306e\u5f37\u3055\u30fb\u5927\u304d\u3055\u3092\u793a\u3059\u30c7\u30b7\u30d9\u30eb\u6570\uff08dB\uff09\u3002\u5024\u306f\u30c8\u30e9\u30c3\u30af\u5168\u4f53\u306e\u5e73\u5747\u5024\u3067\u3042\u308a\u3001\u76f8\u95a2\u3059\u308b\u30c8\u30e9\u30c3\u30af\uff08\u540c\u3058\u3088\u3046\u306a\u611f\u3058\u306e\u30c8\u30e9\u30c3\u30af\uff09\u306e\u97f3\u306e\u5f37\u3055\u30fb\u5927\u304d\u3055\u3092\u6bd4\u8f03\u3059\u308b\u3068\u304d\u306b\u5f79\u7acb\u3064\u3002\u4e3b\u306b\u7269\u7406\u7684\u306a\u5f37\u3055\uff08\u5927\u304d\u3055\uff09\u306b\u5fc3\u7406\u7684\u306a\u76f8\u95a2\u3092\u3082\u305f\u3089\u3059\u97f3\u306e\u54c1\u8cea\u3092\u6307\u3057\u3066\u3044\u308b\u3002\u5024\u306f\u4e00\u822c\u7684\u306b\u306f-60 \u304b\u3089 0 db \u307e\u3067\u306e\u7bc4\u56f2\u3067\u793a\u3055\u308c\u308b\u3002"}),Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"title is-5",children:"mode\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"\u30e2\u30fc\u30c9\u306f\u30c8\u30e9\u30c3\u30af\u306e\u69d8\u5f0f\uff08\u9577\u8abf\u307e\u305f\u306f\u77ed\u8abf\uff09\u3001\u3059\u306a\u308f\u3061\u65cb\u5f8b\u306e\u97f3\u968e\u3092\u793a\u3059\u3002\u9577\u8abf\u306f\uff11\u3067\u793a\u3055\u308c\u3001\u77ed\u8abf\u306f\uff10\u3067\u793a\u3055\u308c\u308b\u3002"}),Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"title is-5",children:"speechiness\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"\u305d\u306e\u30c8\u30e9\u30c3\u30af\u306e\u306a\u304b\u306b\u3042\u308b\u8a71\u3057\u8a00\u8449\u306e\u5b58\u5728\u3092\u691c\u51fa\u3059\u308b\u3002\u305f\u3060\u306e\u30b9\u30d4\u30fc\u30c1 \uff08\u30c8\u30fc\u30af\u30b7\u30e7\u30fc\u3001\u30aa\u30fc\u30c7\u30a3\u30aa \u30d6\u30c3\u30af\u3001\u8a69\u7b49\uff09\u306b\u4f3c\u3066\u3044\u308b\u3088\u3046\u306a\u9332\u97f3\u3067\u3042\u308b\u307b\u3069\u3001\u5024\u306f 1.0 \u306b\u8fd1\u3065\u304f\u3002 0.66 \u3092\u8d85\u3048\u308b\u5024\u306f\u3001\u5b8c\u5168\u306b\u8a71\u3057\u8a00\u8449\u3067\u3067\u304d\u3066\u3044\u308b\u30c8\u30e9\u30c3\u30af\u3067\u3042\u308d\u3046\u3053\u3068\u3092\u793a\u3059\u3002 0.33 \u304b\u3089 0.66 \u307e\u3067\u306e\u5024\u306f\u3001\u30bb\u30af\u30b7\u30e7\u30f3\u307e\u305f\u306f\u30ec\u30a4\u30e4\u30fc\u306e\u3044\u305a\u308c\u304b\u3067\u97f3\u697d\u3068\u30b9\u30d4\u30fc\u30c1\u306e\u4e21\u65b9\u3092\u542b\u307f\u7121\u53ef\u80fd\u6027\u306e\u3042\u308b\u30c8\u30e9\u30c3\u30af\uff08\u30e9\u30c3\u30d7\u97f3\u697d\u7b49\u306e\u5834\u5408\u3082\u542b\u3080\uff09\u3092\u8868\u3059\u3002 0.33 \u672a\u6e80\u306e\u5024\u3067\u3042\u308c\u3070\u3001\u305d\u306e\u30c8\u30e9\u30c3\u30af\u306f\u307b\u3068\u3093\u3069\u97f3\u697d\u3067\u3042\u308a\u3001\u8a00\u8449\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u306e\u53ef\u80fd\u6027\u304c\u9ad8\u304f\u306a\u308b\u3002"}),Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"title is-5",children:"tempo\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"\u30c8\u30e9\u30c3\u30af\u5168\u4f53\u3067\u898b\u8fbc\u307e\u308c\u308b\u6bce\u5206\u6642\u306e\u30d3\u30fc\u30c8\uff08BPM\uff09\u3002\u97f3\u697d\u7528\u8a9e\u3067\u306f\u3001\u30c6\u30f3\u30dd\u306f\u7279\u5b9a\u306e\u66f2\u306e\u901f\u5ea6\u307e\u305f\u306f\u30da\u30fc\u30b9\u3092\u6307\u3057\u3001\u30d3\u30fc\u30c8\u306e\u6301\u7d9a\u6642\u9593\u306e\u5e73\u5747\u304b\u3089\u5c0e\u304d\u51fa\u3055\u308c\u308b\u3082\u306e\u3067\u3042\u308b\u3002"}),Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"title is-5",children:"time_signature\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"\u66f2\u306e\u9577\u3055\u3092\u793a\u3059\u3002"}),Object(d.jsx)("li",{children:Object(d.jsx)("h2",{className:"title is-5",children:"valence\u3068\u306f\uff1f"})}),Object(d.jsx)("p",{children:"0.0\u304b\u30891.0\u307e\u3067\u306e\u5024\u3092\u7528\u3044\u3066\u305d\u306e\u30c8\u30e9\u30c3\u30af\u306e\u97f3\u697d\u7684\u306a\u30dd\u30b8\u30c6\u30a3\u30d6\u3055\uff08\u967d\u6c17\u3055\uff09\u3092\u793a\u3059\u3002\u9ad8\u3044\u307b\u3069\u30c8\u30e9\u30c3\u30af\u306f\u3088\u308a\u30dd\u30b8\u30c6\u30a3\u30d6\u306b\u805e\u3053\u3048\uff08\u4f8b\uff1a\u5e78\u305b\u3001\u967d\u6c17\u3001\u9676\u9154\uff09\u3001\u4f4e\u3044\u307b\u3069\u3088\u308a\u30cd\u30ac\u30c6\u30a3\u30d6\u306b\u805e\u3053\u3048\u308b\uff08\u4f8b\uff1a\u60b2\u3057\u3044\u3001\u843d\u3061\u8fbc\u3093\u3060\u3001\u6012\u3063\u3066\u3044\u308b\uff09\u3002"})]}),Object(d.jsx)("h1",{className:"title",children:"\uff1c\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\uff1e"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("a",{href:"https://spotifycharts.com/regional",target:"_blank",rel:"noopener noreferrer",children:"Spotify Chart"}),"\u306b\u3066\u4e16\u754c\u5404\u56fd\u306eDaily\u3084Weekly\u306eTop200\u3084Viral50\u306e\u30e9\u30f3\u30ad\u30f3\u30b0\u30c7\u30fc\u30bf\u304cCSV\u5f62\u5f0f\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3002 \u4eca\u56de\u306f\u305d\u3053\u304b\u3089\u30c7\u30fc\u30bf\u3092\u96c6\u3081\u3001",Object(d.jsx)("a",{href:"https://developer.spotify.com/documentation/web-api/",target:"_blank",rel:"noopener noreferrer",children:"Spotify API"}),"\u3092\u4f7f\u7528\u3057\u3066\u53ef\u8996\u5316\u3057\u305f\u3002"]})]})},I=n(89),R=(n(159),function(e){var t=e.features,n=Object(x.b)(),c=Object(x.c)((function(e){return e.detail.startMonth})),s=Object(x.c)((function(e){return e.detail.endMonth})),a=Object(x.c)((function(e){return e.detail.feature})),o=Object(x.c)((function(e){return e.detail.max})),l=Object(x.c)((function(e){return e.detail.min})),u=(Object(x.c)((function(e){return e.detail.display})),Object(x.c)((function(e){return e.detail.isRegionShowed}))),j=Object(i.useState)(-1/0),b=Object(r.a)(j,2),h=b[0],v=b[1],y=Object(i.useState)(1/0),g=Object(r.a)(y,2),S=g[0],w=g[1],k=Object(i.useState)([]),N=Object(r.a)(k,2),C=N[0],_=N[1];Object(i.useEffect)((function(){Object(O.a)(f.a.mark((function e(){var t,r,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=-1/0,r=1/0,i={},e.next=5,Object(m.j)(a,c);case 5:s=e.sent,console.log(s),s.map((function(e){i[e.countryid]=e["SUM ( Ranking.stream * Music.".concat(a," ) / SUM ( Ranking.stream)")],t<i[e.countryid]&&(t=i[e.countryid]),i[e.countryid]<r&&(r=i[e.countryid])})),_(i),t<o?v(t=o):o<t&&(v(t),n(Object(p.n)(t))),l<r?w(r=l):r<l&&(w(r),n(Object(p.o)(r)));case 11:case"end":return e.stop()}}),e)})))()}),[a,c]);var A=function(e){var t="white";return C[e.properties.ISO_A2]&&(t=M.interpolateTurbo(z(C[e.properties.ISO_A2]))),t},z=function(e){return.9*(e-S)/(h-S)+.1},E=M.geoMercator().center([0,0]).translate([315,190]).scale(80),B=M.geoPath().projection(E),F=M.select(".tooltip-world"),I=Object(i.useState)(null),R=Object(r.a)(I,2),L=R[0],Y=R[1];var T=Object(i.useState)(!1),D=Object(r.a)(T,2),P=(D[0],D[1]),X=Object(i.useState)(0),q=Object(r.a)(X,2),W=(q[0],q[1]),V=Object(i.useState)(0),J=Object(r.a)(V,2),K=(J[0],J[1]),H=Object(i.useState)(null),G=Object(r.a)(H,2),U=G[0],Q=G[1];return u?Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)("div",{className:"card-content",children:Object(d.jsxs)("div",{className:"content",children:[c,"~",s]})})}),Object(d.jsx)("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(d.jsx)("svg",{viewBox:"-30 -30 770 325",children:Object(d.jsx)("g",{children:t.map((function(e,t){return Object(d.jsx)("path",{d:B(e),fill:A(e),stroke:"black",strokeWidth:"1",strokeOpacity:"0.5",countryname:e,onMouseOver:function(){return function(e){void 0===C[e]?Y("\uff08\u30c7\u30fc\u30bf\u306a\u3057\uff09"):Y(C[e].toFixed(3))}(e.properties.ISO_A2)},onMouseMove:function(t){!function(e,t){var n=e.pageX,c=e.pageY-200;P(!0),W(n),K(c),Q(t)}(t,e.properties.NAME_JA),F.style("visibility","visible"),F.style("top",t.pageY-20+"px").style("left",t.pageX+10+"px").html(U+" "+L)},onMouseLeave:function(){F.style("visibility","hidden")},onMouseOut:function(){return P(!1),void Y(null)},onClick:function(){var t=e.properties.ISO_A2;n(Object(p.c)("Yes")),n(Object(p.f)(t)),n(Object(p.g)("Yes"))}},t)}))})})})]}):Object(d.jsx)("div",{className:"card-content p-2",children:Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("div",{className:"card-content",children:Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d\u30fb\u30fb\u30fb"})})})})})}),L=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(i.useEffect)((function(){Object(O.a)(f.a.mark((function e(){var t,n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/data/worldmap.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=I.a(n,n.objects.worldmap),i=r.features,c(i);case 8:case"end":return e.stop()}}),e)})))()}),[]),null==n?Object(d.jsx)("p",{children:"loading"}):Object(d.jsx)(R,{features:n})},Y=function(){Object(x.b)();var e=Object(i.useState)(0),t=Object(r.a)(e,2);t[0],t[1],Object(x.c)((function(e){return e.detail.startMonth})),Object(x.c)((function(e){return e.detail.endMonth}));return Object(d.jsx)(L,{})},T=n(58);function D(e){var t=e.len,n=e.yAxis,c=e.name;e.h,Object(x.b)();return Object(d.jsxs)("g",{children:[Object(d.jsx)("text",{transform:"\n                translate(-60, ".concat(t*n.length/2,")\n               "),textAnchor:"middle",dominantBaseline:"central",fontSize:"12",style:{userSelect:"none"},children:c}),n.map((function(e,n){return Object(d.jsx)("g",{transform:"translate(0, ".concat(t*n+t/2,")"),children:Object(d.jsx)("text",{x:"-5",textAnchor:"end",dominantBaseline:"central",fontSize:"8",style:{userSelect:"none"},children:e})},n)}))]})}var P=function(){var e,t,n=Object(x.b)(),c=Object(x.c)((function(e){return e.detail.feature})),s=Object(x.c)((function(e){return e.detail.regionId})),a=Object(x.c)((function(e){return e.detail.country})),o=Object(x.c)((function(e){return e.detail.startMonth})),l=Object(x.c)((function(e){return e.detail.isRegionShowed})),u=Object(x.c)((function(e){return e.detail.isSwmpltShowed})),j=Object(x.c)((function(e){return e.detail.max})),b=Object(x.c)((function(e){return e.detail.min})),h=(Object(x.c)((function(e){return e.detail.selectedCount})),["2017-01","2017-04","2017-07","2017-10","2018-01","2018-04","2018-07","2018-10","2019-01","2019-04","2019-07","2019-10","2020-01","2020-04","2020-07","2020-10","2021-01","2021-04","2021-07"]),v=Object(i.useState)(-1),y=Object(r.a)(v,2),g=y[0],S=y[1],w=Object(i.useState)(null),k=Object(r.a)(w,2),N=(k[0],k[1]),C=100,_=10,A=C+30+300,z=_+10+170,E=M.select(".tooltip-countryheat"),B=Object(i.useState)(null),F=Object(r.a)(B,2),I=F[0],R=F[1],L=15,Y=Object(i.useState)([]),P=Object(r.a)(Y,2),X=P[0],q=P[1],W=Object(i.useState)([]),V=Object(r.a)(W,2),J=V[0],K=V[1],H=Object(i.useState)(!1),G=Object(r.a)(H,2),U=G[0],Q=G[1];Object(i.useEffect)((function(){Object(O.a)(f.a.mark((function n(){var r,i,a,o,l,u;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=[],i=b,a=j,e=1/0,t=-1/0,Q(!1),o={},l=f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)(c,h[t],s);case 2:e.sent.map((function(e,n){o[e.countryid]||(r.push(e.countryid),o[e.countryid]={}),o[e.countryid][h[t]]=e.value}));case 4:case"end":return e.stop()}}),e)})),u=0;case 9:if(!(u<h.length)){n.next=14;break}return n.delegateYield(l(u),"t0",11);case 11:u++,n.next=9;break;case 14:K(r),q(o),a!=t&&i!=e&&(e=i,t=a,Q(!0));case 17:case"end":return n.stop()}}),n)})))()}),[c,s]);var Z=function(e,t){var n="#F2F2F2";return e&&(n=M.interpolateTurbo($(e,t))),n},$=function(e,t){return.9*(e-b)/(j-b)+.1};function ee(e,t){R(void 0===t?"\uff08\u30c7\u30fc\u30bf\u306a\u3057\uff09":t.toFixed(3)),E.style("visibility","visible"),E.style("top",e.pageY-20+"px").style("left",e.pageX+10+"px").html(I)}return U&&l?Object(d.jsx)("div",{className:"card-content p-1",style:{width:"100%"},children:Object(d.jsx)("div",{style:{height:"100%",justifyContent:"center",alignItems:"center"},children:Object(d.jsxs)("svg",{viewBox:"".concat(-C," ").concat(-_," ").concat(A," ").concat(z),style:{border:"solid 0px"},children:[Object(d.jsx)(D,{len:L,yAxis:J,name:"\u56fd",h:170}),Object(d.jsx)("rect",{x:"0",y:"0",fill:"lightgray",height:L*J.length,width:L*h.length}),Object(d.jsx)("g",{onMouseLeave:function(){N(null)},children:J.map((function(e,t){return h.map((function(c,r){var i=c,s=String(Number(i.split("-")[0])),l=String(Number(i.split("-")[1])+2);return 1===l.length&&(l="0"+l),void 0===X[e][c]?Object(d.jsx)("g",{children:Object(d.jsx)("rect",{className:"cell",x:L*r,y:L*t,width:L,height:L,fill:Z(X[e][c],c),style:{cursor:"default"},onMouseMove:function(t){return ee(t,X[e][c])},onMouseLeave:function(){E.style("visibility","hidden")}})},t*h.length+r):3===o.length?Object(d.jsx)("g",{children:Object(d.jsx)("rect",{className:"cell",x:L*r,y:L*t,width:L,height:L,fill:Z(X[e][c],c),style:{cursor:"default"},onMouseMove:function(t){return ee(t,X[e][c])},onMouseLeave:function(){E.style("visibility","hidden")},onClick:function(){n(Object(p.s)(!1)),console.log("selectedCount false")}})},t*h.length+r):Object(d.jsxs)("g",{children:[Object(d.jsx)("rect",{className:"cell",x:L*r,y:L*t,width:L,height:L,fill:Z(X[e][c],c),style:{cursor:"pointer"},onClick:function(){S(t*h.length+r),function(e,t,c){var r=Object(T.a)(a),i=Object(T.a)(o),s=Object(T.a)(u),l=!1;0===r.length?(r.push(e),i.push(t),s.push(c),n(Object(p.f)(r)),n(Object(p.u)(i)),n(Object(p.l)(s))):0!=r.length&&(r.map((function(n,c){n===e&&i[c]===t&&(l=!0)})),l||(r.push(e),i.push(t),s.push(c),n(Object(p.f)(r)),n(Object(p.u)(i)),n(Object(p.l)(s))))}(e,c,!0),n(Object(p.h)(s+"-"+l)),n(Object(p.c)("Yes")),n(Object(p.e)("Yes"))},onMouseEnter:function(){},onMouseMove:function(t){return ee(t,X[e][c])},onMouseLeave:function(){E.style("visibility","hidden")}}),Object(d.jsx)("rect",{x:L*r,y:L*t,width:14.5,height:14.5,fill:"none",stroke:"black",opacity:g===t*h.length+r?1:0})]},t*h.length+r)}))}))})]})})}):Object(d.jsx)("div",{className:"card-content",children:Object(d.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d\u30fb\u30fb\u30fb"})})},X=n(161);var q=function(e){var t=Object(x.b)(),n=Object(x.c)((function(e){return e.detail.startMonth})),c=Object(x.c)((function(e){return e.detail.feature})),s=Object(x.c)((function(e){return e.detail.regionId})),a=Object(x.c)((function(e){return e.detail.isRegionShowed})),o=Object(i.useState)({}),l=Object(r.a)(o,2),u=l[0],j=l[1],b=Object(i.useState)(-1/0),h=Object(r.a)(b,2),y=h[0],g=h[1],S=Object(i.useState)(1/0),w=Object(r.a)(S,2),k=w[0],N=w[1],C=Object(i.useState)([]),_=Object(r.a)(C,2),A=_[0],z=_[1],E=0,B=Object(i.useState)(500),F=Object(r.a)(B,2),I=F[0],R=F[1],L=50,Y=0,T=L+30+250,D=Y+30+120,P=M.select(".tooltip-bar"),q=Object(i.useState)(null),W=Object(r.a)(q,2),V=W[0],J=W[1];Object(i.useEffect)((function(){Object(O.a)(f.a.mark((function e(){var t,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=-1/0,r=1/0,i={},e.next=5,Object(m.a)(c,n,s);case 5:(a=e.sent).map((function(e){i[e.countryid]=!0,e.value<r&&(r=e.value),e.value>t&&(t=e.value)})),g(t),N(r),z(a),j(i),"danceability"===c?R(200):"energy"===c||"valence"===c?R(300):"instrumentalness"===c?R(1e4):"liveness"===c||"speechiness"===c?R(1e3):"loudness"===c?R(-20):"tempo"===c?R(1):"time_signature"===c?R(50):"acousticness"===c&&R(500);case 12:case"end":return e.stop()}}),e)})))()}),[c,n,s]);var K=function(e){return.9*(e-k)/(y-k)+.1},H=function(e){var t=e.target.name;j(Object(X.a)(Object(X.a)({},u),{},Object(v.a)({},t,!u[t])))};return a?Object(d.jsxs)("div",{style:{height:"100%",justifyContent:"center",alignItems:"center"},children:[Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)("div",{className:"card-content m-1",children:Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("div",{style:{marginBottom:"5px"},children:A.map((function(e){return Object(d.jsxs)("label",{className:"checkbox",children:[Object(d.jsx)("input",{type:"checkbox",checked:u[e.countryid],name:e.countryid,value:u[e.countryid],onChange:H}),e.countryid]})}))})})})}),Object(d.jsx)("svg",{viewBox:"".concat(-L," ").concat(-Y," ").concat(T," ").concat(D),style:{border:"solid 0px"},children:Object(d.jsxs)("g",{children:[E=0,A.map((function(e,n){return console.log(e.value*I),u[e.countryid]?Object(d.jsxs)("g",{children:[E+=1,Object(d.jsx)("rect",{x:"0",y:13*(E-1),width:e.value*I,height:13,fill:(c=e.value,M.interpolateTurbo(K(c))),onMouseMove:function(t){!function(e,t){e.pageX,e.pageY,J(void 0===t?"\uff08\u30c7\u30fc\u30bf\u306a\u3057\uff09":t.toFixed(3)),P.style("visibility","visible"),P.style("top",e.pageY-20+"px").style("left",e.pageX+10+"px").html(V)}(t,e.value)},onMouseLeave:function(){P.style("visibility","hidden")},onClick:function(){t(Object(p.f)(e.countryid)),t(Object(p.e)("Yes")),t(Object(p.c)("Yes"))}}),Object(d.jsx)("text",{x:"-10",y:13*E-5,textAnchor:"middle",dominantBaseline:"central",fontSize:"6",style:{userSelect:"none"},onClick:function(){t(Object(p.f)(e.countryid)),t(Object(p.c)("Yes"))},children:Object(d.jsx)("a",{children:e.countryid})})]}):console.log(u[e.countryid]);var c}))]})})]}):Object(d.jsx)("div",{className:"card-content p-2",children:Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("div",{className:"card-content",children:Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d\u30fb\u30fb\u30fb"})})})})})},W=function(){return Object(d.jsx)("div",{className:"content",children:Object(d.jsx)(q,{})})},V=function(){Object(x.b)(),Object(x.c)((function(e){return e.detail.startMonth})),Object(x.c)((function(e){return e.detail.endMonth}));var e=Object(x.c)((function(e){return e.detail.judgeVis})),t=Object(x.c)((function(e){return e.detail.isRegionShowed}));return 0===e&&!t||0===e&&t?Object(d.jsx)("div",{className:"card-content",children:Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("p",{style:{fontSize:"1.25rem"},children:"\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u3088\u308a\u5730\u57df\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002"})})}):1===e?Object(d.jsx)("div",{className:"card-content p-1",style:{height:"100%"},children:Object(d.jsx)(Y,{})}):2===e?Object(d.jsx)(P,{}):Object(d.jsx)("div",{className:"card-content p-1",style:{height:"100%"},children:Object(d.jsx)(W,{})})},J=function(){var e=M.select(".tooltip-questionMark");return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"section p-1",style:{display:"flex",justifyContent:"flex-end"},children:Object(d.jsx)("div",{className:"questionmark",onMouseEnter:function(t){e.style("visibility","visible"),e.style("top",t.pageY-30+"px").style("left",t.pageX-550+"px").html("\u3053\u308c\u30893\u66f2\u306f\u5de6\u304b\u3089\u9806\u306b\u30b0\u30ed\u30fc\u30d0\u30eb\u30fb\u65e5\u672c\u30fb\u30af\u30ea\u30b9\u30de\u30b9\u306e\u5404\u30ab\u30c6\u30b4\u30ea\u306e\u4e2d\u3067\u6700\u3082\u518d\u751f\u3055\u308c\u305f\u66f2\u3068\u306a\u3063\u3066\u3044\u308b\u3002                 \u307e\u305f\u3001\u305d\u308c\u305e\u308c\u306e\u66f2\u304c\u914d\u4fe1\u3055\u308c\u3066\u3044\u308b\u56fd\u3092\u4e16\u754c\u5730\u56f3\u306b\u3066\u8d64\u8272\u3067\u5857\u308a\u3064\u3076\u3057\u3066\u3044\u308b\u3002")},onMouseLeave:function(){e.style("visibility","hidden")},children:"?"})}),Object(d.jsx)(o.a,{}),Object(d.jsxs)("div",{className:"tile is-ancestor",children:[Object(d.jsx)("div",{className:"tile is-parent",children:Object(d.jsx)("article",{className:"tile is-child box",children:Object(d.jsxs)("div",{id:"ScrollToHeatmap",children:[Object(d.jsx)(l.a,{}),Object(d.jsx)(V,{})]})})}),Object(d.jsx)("div",{className:"tile is-parent",children:Object(d.jsx)("article",{className:"tile is-child box",children:Object(d.jsx)(B,{})})})]}),Object(d.jsxs)("div",{className:"tile is-ancestor",children:[Object(d.jsx)("div",{className:"tile is-parent",children:Object(d.jsx)("article",{className:"tile is-child box",children:Object(d.jsx)("div",{id:"ScrollToSong",children:Object(d.jsx)(b.a,{})})})}),Object(d.jsx)("div",{className:"tile is-parent",children:Object(d.jsx)("article",{className:"tile is-child box",children:Object(d.jsx)(j,{})})})]})]})},K=function(){return Object(d.jsx)("div",{className:"tile is-ancestor",children:Object(d.jsx)("div",{className:"tile is-parent ",children:Object(d.jsx)("article",{className:"tile is-child notification",children:Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("div",{className:"content",children:Object(d.jsx)(F,{})})})})})})},H=function(){var e=Object(i.useState)("Vis"),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(d.jsxs)("div",{children:[Object(d.jsxs)("section",{className:"hero is-fluid is-danger is-small",children:[Object(d.jsx)("div",{className:"hero-body",children:Object(d.jsx)("div",{className:"container has-text-centered is-divider",children:Object(d.jsx)("h1",{className:"title",children:"The music around the world."})})}),Object(d.jsx)("div",{className:"hero-foot",children:Object(d.jsxs)("nav",{className:"tabs is-boxed is-fullwidth has-text-black",children:[" ",Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{className:"Vis"===n&&"is-active",onClick:function(){return c("Vis")},children:Object(d.jsx)(s.b,{to:"/",children:"\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30bc\u30fc\u30b7\u30e7\u30f3"})}),Object(d.jsx)("li",{className:"FandD"===n&&"is-active",onClick:function(){return c("FandD")},children:Object(d.jsx)(s.b,{to:"/aboutFeatureAndData",children:"\u7528\u8a9e\u8aac\u660e\u30fb\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066"})})]})})]})})]}),Object(d.jsx)("div",{className:"content",children:Object(d.jsxs)("section",{className:"section",children:[Object(d.jsx)(a.a,{path:"/",exact:!0,children:Object(d.jsx)(J,{})}),Object(d.jsx)(a.a,{path:"/aboutFeatureAndData",exact:!0,children:Object(d.jsx)(K,{})})]})})]})},G=function(){return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("div",{className:"content has-text-centered",children:Object(d.jsx)("p",{children:"\xa9 2021 koizumi hatasa miura moriya watanabe"})})})},U=function(){return Object(d.jsxs)(s.a,{children:[Object(d.jsx)(H,{}),Object(d.jsx)(G,{})]})},Q=n(35),Z=n(115),$=Object(Q.b)({detail:p.x}),ee=Object(Z.a)({reducer:$});n(497);Object(c.render)(Object(d.jsx)(x.a,{store:ee,children:Object(d.jsx)(U,{})}),document.querySelector("#content"))},59:function(e,t,n){},6:function(e,t,n){"use strict";n.d(t,"u",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return b})),n.d(t,"t",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"m",(function(){return O})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"q",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return S})),n.d(t,"r",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return N})),n.d(t,"v",(function(){return M})),n.d(t,"w",(function(){return C})),n.d(t,"s",(function(){return _}));var c=n(115),r={startMonth:[],endMonth:"2018-03",feature:"acousticness",country:[],musicid:"a",max:-1/0,min:1/0,sorted:"\u6607\u9806",display:"No",judgeVis:0,choosedCountry:"No",choosedFeature:"No",choosedPeriod:"No",regionId:"",isRegionShowed:!1,isSwmpltChoosed:!1,isSwmpltShowed:[],selectClicked:!1,checkRaderFeatureClicked:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],checkRegionClicked:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],swarmpltMin:1/0,swarmpltMax:-1/0,selectedCount:!0},i=Object(c.b)({name:"detail",initialState:r,reducers:{changeStartMonth:function(e,t){e.startMonth=t.payload},changeEndMonth:function(e,t){e.endMonth=t.payload},changeFeature:function(e,t){e.feature=t.payload},changeCountry:function(e,t){e.country=t.payload},changeMusicId:function(e,t){e.musicid=t.payload},changeMax:function(e,t){e.max=t.payload},changeMin:function(e,t){e.min=t.payload},changeSorted:function(e,t){e.sorted=t.payload},changeDisplay:function(e,t){e.display=t.payload},changeJudgeVis:function(e,t){e.judgeVis=t.payload},changeChoosedCountry:function(e,t){e.choosedCountry=t.payload},changeChoosedFeature:function(e,t){e.choosedFeature=t.payload},changeChoosedPeriod:function(e,t){e.choosedPeriod=t.payload},changeRegionId:function(e,t){e.regionId=t.payload},changeIsRegionShowed:function(e,t){e.isRegionShowed=t.payload},changeIsSwmpltChoosed:function(e,t){e.isSwmpltChoosed=t.payload},changeIsSwmpltShowed:function(e,t){e.isSwmpltShowed=t.payload},changeSelectClicked:function(e,t){e.selectClicked=t.payload},changeCheckRaderFeatureClicked:function(e,t){e.checkRaderFeatureClicked=t.payload},changeCheckRegionClicked:function(e,t){e.checkRegionClicked=t.payload},changeSwarmpltMin:function(e,t){e.swarmpltMin=t.payload},changeSwarmpltMax:function(e,t){e.swarmpltMax=t.payload},changeSlectedCount:function(e,t){e.selectedCount=t.payload}}});t.x=i.reducer;var s=i.actions,a=s.changeStartMonth,o=s.changeFeature,l=s.changeEndMonth,u=s.changeCountry,d=s.changeMusicId,j=s.changeMax,b=s.changeMin,h=s.changeSorted,f=s.changeDisplay,O=s.changeJudgeVis,x=s.changeChoosedCountry,p=s.changeChoosedFeature,m=s.changeChoosedPeriod,v=s.changeRegionId,y=s.changeIsRegionShowed,g=s.changeIsSwmpltChoosed,S=s.changeIsSwmpltShowed,w=s.changeSelectClicked,k=s.changeCheckRaderFeatureClicked,N=s.changeCheckRegionClicked,M=s.changeSwarmpltMax,C=s.changeSwarmpltMin,_=s.changeSlectedCount}},[[498,1,2]]]);
//# sourceMappingURL=main.62d407fa.chunk.js.map
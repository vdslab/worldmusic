{"version":3,"sources":["components/display_similarsongs.js","api.js","components/Header.js","components/Footer.js","components/SimilarSongs.js","components/draw_raderchart.js","components/Song.js","stores/details.js","components/selectPeriod.js","components/Ranking.js","components/swarmplt.js","components/Detail.js","components/draw_heatmap.js","components/HeatMap.js","components/drow_worldmap.js","components/WorldMap.js","components/selectFeature.js","App.js","stores/Count.js","stores/index.js","index.js"],"names":["App","spotify","authOptions","url","headers","Buffer","from","toString","form","grant_type","json","data2","useState","similarSongs","setSimilarSongs","music","useEffect","request","post","error","response","body","statusCode","token","access_token","options","id","acousticness","danceability","duration_ms","energy","instrumentalness","key","liveness","loudness","mode","speechiness","tempo","time_signature","valence","get","tracks","viewBox","map","item","i","transfrom","href","album","images","width","height","external_urls","x","y","fontSize","name","artists","item2","j","transform","buildParams","args","params","URLSearchParams","append","sendRequest","path","a","query","fetch","fetchData","startMonth","endMonth","feature","country","fetchSongData","musicId","Header","className","Footer","SimilarSongs","style","RaderChart","data","displayFeature","setDisplayFeature","useData","len","length","r","rs","perimeters","perimetersPoint","tick","score","scorePoint","c","Math","PI","_r","cos","sin","push","value","toFixed","xs","ys","legend","xp","yp","overHandle","e","target","margin","svgWidth","svgHeight","border","d","fill","stroke","strokeWidth","t","textAnchor","dominantBaseline","userSelect","p","x1","y1","x2","y2","onMouseEnter","fillOpacity","cx","cy","position","left","top","onMouseLeave","fontWeight","TextDetail","marginBottom","round","Song","setData","paddingTop","paddingBottom","display","slice","createSlice","initialState","reducers","changeStartMonth","state","action","payload","changeEndMonth","changeFeature","changeCountry","actions","selectPeriod","Ranking","useDispatch","useSelector","detail","Swarmplt","innerHeight","checkcoutry","ref","useRef","svg","d3","current","dbData","setDbData","console","log","attr","draw","swarmplt","select","xScale","scaleLinear","domain","extent","range","streamDomain","stream","sqrt","size","simulation","forceSimulation","force","forceX","strength","forceY","forceCollide","alphaDecay","alpha","on","selectAll","join","xAxis","setTimeout","scale","classed","transition","duration","call","Detail","VerticalAxis","countries","h","HorizontalAxis","term","w","start","HeatMapChart","dispatch","end","heatMapData","setHeatMapData","Infinity","Max","setMax","Min","setMin","makeData","weightFeatureTotal","streamTotal","weightAve","Promise","all","cId","countryData","countryName","timeData","colorjudge","color","opacityjudge","filter","onClick","countryCd","HeatMap","WorldMap","features","worldMapData","setWorldMapData","properties","ISO_A2","projection","center","translate","strokeOpacity","countryname","onMouseOver","onMouseOut","DrowWorldMap","setFeatures","process","res","topojson","objects","worldmap","selectFeature","onChange","event","element","aboutColorGradations","class","offset","count","CountUp","CountDown","reducer","combineReducers","user","userReducer","detailReducer","store","configureStore","render","document","querySelector"],"mappings":"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","file":"static/js/main.cbc211cd.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {useState, useEffect} from \"react\";\r\nimport request from \"request\";\r\nimport { fetchData } from \"../api\";\r\n\r\nexport default function App (){\r\n    const spotify = {\r\n        ClientId : 'e76d6e9c4afc46d899278c03df0d3e05',\r\n        ClientSecret:'fe2860375c894b9bbf4d97d899b9fd3d'\r\n    }\r\n\r\n    let authOptions = {\r\n        url: 'https://accounts.spotify.com/api/token',\r\n        headers: {\r\n          'Authorization': 'Basic ' + (new Buffer.from(spotify.ClientId + ':' + spotify.ClientSecret).toString('base64'))\r\n        },\r\n        form: {\r\n          grant_type: 'client_credentials'\r\n        },\r\n        json: true\r\n    };\r\n\r\n    //good4u\r\n    // const data = {\r\n    //   acousticness: 0.335,\r\n    //   analysis_url: \"https://api.spotify.com/v1/audio-analysis/4ZtFanR9U6ndgddUvNcjcG\",\r\n    //   danceability: 0.563,\r\n    //   duration_ms: 178147,\r\n    //   energy: 0.664,\r\n    //   id: \"4ZtFanR9U6ndgddUvNcjcG\",\r\n    //   instrumentalness: 0,\r\n    //   key: 9,\r\n    //   liveness: 0.0849,\r\n    //   loudness: -5.044,\r\n    //   mode: 1,\r\n    //   speechiness: 0.154,\r\n    //   tempo: 166.928,\r\n    //   time_signature: 4,\r\n    //   track_href: \"https://api.spotify.com/v1/tracks/4ZtFanR9U6ndgddUvNcjcG\",\r\n    //   type: \"audio_features\",\r\n    //   uri: \"spotify:track:4ZtFanR9U6ndgddUvNcjcG\",\r\n    //   valence: 0.688,\r\n    // }\r\n\r\n    //夜にかける\r\n    const data2 = {\r\n      \"danceability\": 0.663,\r\n      \"energy\": 0.871,\r\n      \"key\": 8,\r\n      \"loudness\": -5.287,\r\n      \"mode\": 1,\r\n      \"speechiness\": 0.03,\r\n      \"acousticness\": 0.00299,\r\n      \"instrumentalness\": 0.0000018,\r\n      \"liveness\": 0.337,\r\n      \"valence\": 0.826,\r\n      \"tempo\": 130.025,\r\n      \"type\": \"audio_features\",\r\n      \"id\": \"6MCjmGYlw6mQVWRFVgBRvB\",\r\n      \"uri\": \"spotify:track:6MCjmGYlw6mQVWRFVgBRvB\",\r\n      \"duration_ms\": 258840,\r\n      \"time_signature\": 4\r\n    }\r\n\r\n\r\n    //うっせえわ\r\n    const data3 = {\r\n      \"danceability\": 0.525,\r\n      \"energy\": 0.978,\r\n      \"key\": 11,\r\n      \"loudness\": -1.072,\r\n      \"mode\": 0,\r\n      \"speechiness\": 0.0815,\r\n      \"acousticness\": 0.00485,\r\n      \"instrumentalness\": 0,\r\n      \"liveness\": 0.06,\r\n      \"valence\": 0.577,\r\n      \"tempo\": 178.069,\r\n      \"type\": \"audio_features\",\r\n      \"id\": \"6EzZn96uOc9JsVGNRpx06n\",\r\n      \"uri\": \"spotify:track:6EzZn96uOc9JsVGNRpx06n\",\r\n      \"track_href\": \"https://api.spotify.com/v1/tracks/6EzZn96uOc9JsVGNRpx06n\",\r\n      \"analysis_url\": \"https://api.spotify.com/v1/audio-analysis/6EzZn96uOc9JsVGNRpx06n\",\r\n      \"duration_ms\": 204920,\r\n      \"time_signature\": 4\r\n    }\r\n\r\n  // const musicId = \"4ZtFanR9U6ndgddUvNcjcG\";\r\n  // const musivId2 = \"6MCjmGYlw6mQVWRFVgBRvB\";\r\n  // const musicId3 =  \"6EzZn96uOc9JsVGNRpx06n\";\r\n  // const [data, setData] = useState([]);\r\n  // useEffect(() => {\r\n  //   (async () => {\r\n  //     /**TODO:リクエストの送り方 */\r\n  //     const data = await fetchData(\"\", \"\", \"\", \"ALL\", musicId);\r\n  //     setData(data);\r\n  //   })();\r\n  // }, [musicId]);\r\n\r\n    const [similarSongs,setSimilarSongs] = useState([]);\r\n    const country = \"US\";\r\n    const music = data2;\r\n    useEffect(() => {\r\n        request.post(authOptions, function(error, response, body) {\r\n            if (!error && response.statusCode === 200) {      \r\n              // use the access token to access the Spotify Web API\r\n              var token = body.access_token;\r\n              var options = {\r\n                url: `https://api.spotify.com/v1/recommendations?limit=1&market=${country}&seed_tracks=${music.id}&target_acousticness=${music.acousticness}&target_danceability=${music.danceability}&target_duration_ms=${music.duration_ms}&target_energy=${music.energy}&target_instrumentalness=${music.instrumentalness}&target_key=${music.key}&target_liveness=${music.liveness}&target_loudness=${music.loudness}&target_mode=${music.mode}&target_speechiness=${music.speechiness}&target_tempo=${music.tempo}&target_time_signature=${music.time_signature}&target_valence=${music.valence}`,\r\n                headers: {\r\n                  'Authorization': 'Bearer ' + token\r\n                },\r\n                json: true\r\n              };\r\n              request.get(options, function(error, response, body) {          \r\n                setSimilarSongs(body.tracks);   \r\n              });\r\n            }\r\n        });\r\n    },[data2.id]);\r\n    \r\n    return (\r\n    <div> \r\n        <p>類似曲</p>  \r\n        <svg viewBox=\"0 0 200 50\" >\r\n            {similarSongs.map((item,i) =>{\r\n                return (\r\n                    <g key={i} transfrom={`translate(70,${20*(i+1)})`}>\r\n                      <image href={item.album.images[0].url} width=\"50\" height=\"50\" />\r\n                      <a href={item.external_urls.spotify}>\r\n                      <text x=\"70\" y=\"20\"  fontSize=\"10\" >\r\n                        {item.name}\r\n                      </text>\r\n                      </a>\r\n                      {item.artists.map((item2,j) => {\r\n                        return(\r\n                          <g key={j} transform={`translate(70,30)`}>\r\n                          <a href={item2.external_urls.spotify}>\r\n                            <text x=\"70\" y=\"40\"  fontSize=\"10\" >\r\n                              {item2.name}\r\n                           </text>\r\n                          </a>\r\n                          </g>\r\n                        )\r\n                      })}\r\n                    </g>\r\n                )\r\n            })}\r\n            \r\n        </svg>\r\n    </div>\r\n    );\r\n\r\n}\r\n\r\n\r\n","function buildParams(args) {\r\n  const params = new URLSearchParams();\r\n  for (const key in args) {\r\n    if (args[key]) {\r\n      params.append(key, args[key]);\r\n    }\r\n  }\r\n  return params.toString();\r\n}\r\n\r\nasync function sendRequest(path, args) {\r\n  const query = buildParams(args);\r\n  //console.log(`/.netlify/functions${path}?${query}`);\r\n  const request = await fetch(`/.netlify/functions${path}?${query}`);\r\n  return await request.json();\r\n}\r\n\r\nexport function fetchData(startMonth, endMonth, feature, country) {\r\n  return sendRequest(\"/getData\", {\r\n    startMonth: startMonth,\r\n    endMonth: endMonth,\r\n    feature: feature,\r\n    country: country,\r\n  });\r\n}\r\n\r\nexport function fetchSongData(startMonth, endMonth, feature, country, musicId) {\r\n  return sendRequest(\"/getSongData\", {\r\n    startMonth: startMonth,\r\n    endMonth: endMonth,\r\n    feature: feature,\r\n    country: country,\r\n    musicId: musicId,\r\n  });\r\n}\r\n","import React from \"react\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <section className=\"hero is-fluid is-danger is-small\">\r\n      <div className=\"hero-body\">\r\n        <div className=\"container has-text-centered s-divider\">\r\n          <h1 className=\"title\">About music around the world.</h1>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","const Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"content has-text-centered\">\r\n        <p>&copy; 2021 koizumi hatasa miura moriya watanabe</p>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport DisplaySimilarSongs  from \"./display_similarsongs\";\r\n\r\nconst SimilarSongs = () => {\r\n  return (\r\n    <div className=\"my-section\">\r\n      <div className=\"card\" style={{ height: \"24.25vh\" }}>\r\n        <div className=\"card-content\">\r\n          <div className=\"content\">\r\n            <DisplaySimilarSongs />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimilarSongs;\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nfunction RaderChart({ data }) {\r\n  const [displayFeature, setDisplayFeature] = useState([]);\r\n\r\n  const useData = [\r\n    \"acousticness\",\r\n    \"danceability\",\r\n    \"energy\",\r\n    \"instrumentalness\",\r\n    \"liveness\",\r\n    \"loudness\",\r\n    \"speechiness\",\r\n    \"valence\",\r\n  ];\r\n\r\n  const len = useData.length;\r\n  const posX = 50;\r\n  const posY = 50;\r\n  const r = 50;\r\n  const rs = [r, r * 0.8, r * 0.6, r * 0.4, r * 0.2];\r\n\r\n  let perimeters = [\"\", \"\", \"\", \"\", \"\"];\r\n  const perimetersPoint = [];\r\n  const tick = [];\r\n  let score = \"\";\r\n  const scorePoint = [];\r\n  const c = Math.PI / 180;\r\n\r\n  for (let _r = 0; _r < rs.length; _r++) {\r\n    for (let i = 0; i <= len; i++) {\r\n      let key = useData[i];\r\n      if (i === len) {\r\n        key = useData[0];\r\n      }\r\n      const x = posX + rs[_r] * Math.cos(((360 / len) * i - 90) * c);\r\n      const y = posY + rs[_r] * Math.sin(((360 / len) * i - 90) * c);\r\n      if (i !== 0) {\r\n        perimeters[_r] += \"L \" + x + \",\" + y + \" \";\r\n      } else {\r\n        perimeters[_r] += \"M \" + x + \",\" + y + \" \";\r\n        tick.push({ x: x, y: y, value: (1 - _r / 5).toFixed(1) });\r\n      }\r\n      if (i === len) {\r\n        perimeters[_r] += \"z\";\r\n      }\r\n\r\n      if (rs[_r] === r) {\r\n        let value = data[0][key].toFixed(3);\r\n\r\n        if (key === \"loudness\") {\r\n          value = ((data[0].loudness + 60) / 60).toFixed(3);\r\n        }\r\n\r\n        const xs = posX + r * value * Math.cos(((360 / len) * i - 90) * c);\r\n        const ys = posY + r * value * Math.sin(((360 / len) * i - 90) * c);\r\n\r\n        if (i !== 0) {\r\n          score += \"L \" + xs + \",\" + ys + \" \";\r\n        } else {\r\n          score += \"M \" + xs + \",\" + ys + \" \";\r\n        }\r\n        if (i === len) {\r\n          score += \"z\";\r\n        } else {\r\n          scorePoint.push({ x: xs, y: ys, name: key, value: value });\r\n          perimetersPoint.push({\r\n            x: x,\r\n            y: y,\r\n            name: key,\r\n            legend: false,\r\n            value: value,\r\n          });\r\n          const xp = posX + rs[_r] * 1.2 * Math.cos(((360 / len) * i - 90) * c);\r\n          const yp =\r\n            posY + rs[_r] * 1.15 * Math.sin(((360 / len) * i - 90) * c);\r\n          perimetersPoint.push({ x: xp, y: yp, name: key, legend: true });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function overHandle(e) {\r\n    const name = e.target.id;\r\n    setDisplayFeature(name);\r\n  }\r\n  function outHandle() {\r\n    setDisplayFeature([]);\r\n  }\r\n\r\n  const margin = {\r\n    left: 20,\r\n    right: 20,\r\n    top: 10,\r\n    bottom: 10,\r\n  };\r\n  const contentWidth = 100;\r\n  const contentHeight = 100;\r\n\r\n  const svgWidth = margin.left + margin.right + contentWidth;\r\n  const svgHeight = margin.top + margin.bottom + contentHeight;\r\n\r\n  return (\r\n    <div>\r\n      <svg\r\n        viewBox={`${-margin.left} ${-margin.top} ${svgWidth} ${svgHeight}`}\r\n        style={{ border: \"solid 0px\" }}\r\n      >\r\n        <g>\r\n          {perimeters.map((d, i) => {\r\n            return (\r\n              <g key={i}>\r\n                <path fill=\"none\" stroke=\"lightgray\" d={d} strokeWidth=\"0.5\" />\r\n              </g>\r\n            );\r\n          })}\r\n          {tick.map((t, i) => {\r\n            return (\r\n              <g key={i}>\r\n                <text\r\n                  x={t.x}\r\n                  y={t.y}\r\n                  textAnchor=\"middle\"\r\n                  dominantBaseline=\"central\"\r\n                  fontSize=\"5\"\r\n                  style={{ userSelect: \"none\" }}\r\n                >\r\n                  {t.value}\r\n                </text>\r\n              </g>\r\n            );\r\n          })}\r\n          {perimetersPoint.map((p, i) => {\r\n            return (\r\n              <g key={i}>\r\n                {!p.legend ? (\r\n                  <line\r\n                    x1={posX}\r\n                    y1={posY}\r\n                    x2={p.x}\r\n                    y2={p.y}\r\n                    id={p.name + \" \" + p.value}\r\n                    stroke=\"lightgray\"\r\n                    strokeWidth=\"0.5\"\r\n                    onMouseEnter={overHandle}\r\n                  />\r\n                ) : (\r\n                  <text\r\n                    x={p.x}\r\n                    y={p.y}\r\n                    textAnchor=\"middle\"\r\n                    dominantBaseline=\"central\"\r\n                    fontSize=\"5\"\r\n                    style={{ userSelect: \"none\" }}\r\n                  >\r\n                    {p.name}\r\n                  </text>\r\n                )}\r\n              </g>\r\n            );\r\n          })}\r\n\r\n          <path\r\n            fill=\"#FF55BB\"\r\n            fillOpacity=\"0.5\"\r\n            stroke=\"#FF0099\"\r\n            strokeWidth=\"0.5\"\r\n            d={score}\r\n          />\r\n          {scorePoint.map((p, i) => {\r\n            return (\r\n              <g key={i}>\r\n                <circle\r\n                  className=\"test\"\r\n                  id={p.name + \" \" + p.value}\r\n                  cx={p.x}\r\n                  cy={p.y}\r\n                  r={1.5}\r\n                  fill=\"white\"\r\n                  stroke=\"#FF0099\"\r\n                  strokeWidth={0.5}\r\n                  onMouseEnter={overHandle}\r\n                />\r\n              </g>\r\n            );\r\n          })}\r\n        </g>\r\n      </svg>\r\n\r\n      <div\r\n        style={{\r\n          position: \"absolute\",\r\n          left: 0,\r\n          top: 120,\r\n        }}\r\n        onMouseLeave={outHandle}\r\n      >\r\n        <div className=\"card-content\">\r\n          <div className=\"content\">\r\n            <p style={{ fontWeight: \"15px\" }}>{displayFeature}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RaderChart;\r\n","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { fetchSongData } from \"../api\";\r\nimport RaderChart from \"./draw_raderchart\";\r\n\r\nconst TextDetail = ({ data }) => {\r\n  return (\r\n    <div style={{ width: \"40%\" }}>\r\n      <br />\r\n      <p style={{ marginBottom: \"0px\" }}>テンポ：{Math.round(data[0].tempo)}</p>\r\n      <p style={{ marginBottom: \"0px\" }}>拍子：{data[0].time_signature}　</p>\r\n      {/**TODO:キーの情報なしで単調長調だけかぁって感じ*/}\r\n      <p>調：{data[0].mode == 0 ? \"短調\" : \"長調\"}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Song = () => {\r\n  /**TODO：曲のIDを受け渡してもらう */\r\n  const musicId = \"3HVWdVOQ0ZA45FuZGSfvns\";\r\n  const [data, setData] = useState([]);\r\n  useEffect(() => {\r\n    (async () => {\r\n      /**TODO:リクエストの送り方 */\r\n      const data = await fetchSongData(\"\", \"\", \"\", \"ALL\", musicId);\r\n      setData(data);\r\n    })();\r\n  }, [musicId]);\r\n\r\n  return (\r\n    <div className=\"my-section\">\r\n      <div className=\"card\" style={{ height: \"24.25vh\" }}>\r\n        <div\r\n          className=\"card-content\"\r\n          style={{ paddingTop: \"12px\", paddingBottom: \"12px\" }}\r\n        >\r\n          <div className=\"content\">\r\n            {data.length > 0 ? (\r\n              <div>\r\n                <div>\r\n                  <b>{data[0]?.name}</b>\r\n                </div>\r\n                <div style={{ display: \"flex\" }}>\r\n                  <TextDetail data={data} />\r\n                  <div\r\n                    style={{\r\n                      width: \"150px\",\r\n                      paddingTop: \"5px\",\r\n                    }}\r\n                  >\r\n                    <RaderChart data={data} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              []\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Song;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n//変数の宣言\r\nconst initialState = {\r\n  startMonth: \"2018-01\",\r\n  endMonth: \"2018-03\",\r\n  feature: \"acousticness\",\r\n  country: \"JP\",\r\n};\r\n\r\n//storeと呼ばれるデータの格納場所をsliceという名前で分割して役割ごとにそれぞれの変数で管理する\r\nconst slice = createSlice({\r\n  //userという名前のsliceを作成\r\n  name: \"detail\",\r\n  //初期値としてinitialStateで宣言した値が使われる\r\n  initialState,\r\n  reducers: {\r\n    //ここで関数を作成する\r\n    changeStartMonth: (state, action) => {\r\n      //state.変数名で値を参照、変更できる\r\n      //action.payloadでcompnents.ファイル名で宣言した関数で呼び出した引数を持ってくる\r\n      state.startMonth = action.payload;\r\n      // changeData(changeDBYear(state.year));\r\n    },\r\n    changeEndMonth: (state, action) => {\r\n      state.endMonth = action.payload;\r\n    },\r\n    changeFeature: (state, action) => {\r\n      // console.log(action.payload);\r\n      state.feature = action.payload;\r\n    },\r\n\r\n    changeCountry: (state, action) => {\r\n      state.country = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default slice.reducer;\r\nexport const {\r\n  changeStartMonth,\r\n  changeFeature,\r\n  changeEndMonth,\r\n  changeCountry,\r\n} = slice.actions;\r\n","import React from \"react\";\r\nimport { changeStartMonth, changeEndMonth } from \"../stores/details\";\r\nimport { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nfunction selectPeriod() {\r\n  const dispatch = useDispatch();\r\n  const [year, setYear] = useState(0);\r\n  const startMonth = useSelector((state) => state.detail.startMonth);\r\n  const endMonth = useSelector((state) => state.detail.endMonth);\r\n\r\n  const textAboutYear = [\r\n    [\"2017-01\", \"2017-03\"],\r\n    [\"2017-04\", \"2017-06\"],\r\n    [\"2017-07\", \"2017-09\"],\r\n    [\"2017-10\", \"2017-12\"],\r\n    [\"2018-01\", \"2018-03\"],\r\n    [\"2018-04\", \"2018-06\"],\r\n    [\"2018-07\", \"2018-09\"],\r\n    [\"2018-10\", \"2018-12\"],\r\n    [\"2019-01\", \"2019-03\"],\r\n    [\"2019-04\", \"2019-06\"],\r\n    [\"2019-07\", \"2019-09\"],\r\n    [\"2019-10\", \"2019-12\"],\r\n    [\"2020-01\", \"2020-03\"],\r\n    [\"2020-04\", \"2020-06\"],\r\n    [\"2020-07\", \"2020-09\"],\r\n    [\"2020-10\", \"2020-12\"],\r\n  ];\r\n  return (\r\n    <div>\r\n      <output for=\"sliderWithValue\">\r\n        {startMonth}〜{endMonth}\r\n      </output>\r\n      <br></br>\r\n      <input\r\n        className=\"slider is-fullwidth\"\r\n        type=\"range\"\r\n        id=\"getSliderValue\"\r\n        min=\"0\"\r\n        max=\"7\"\r\n        step=\"1\"\r\n        value={year}\r\n        onChange={(event) => {\r\n          setYear(event.target.value);\r\n          const s = textAboutYear[event.target.value][0];\r\n          const e = textAboutYear[event.target.value][1];\r\n          dispatch(changeStartMonth(s));\r\n          dispatch(changeEndMonth(e));\r\n        }}\r\n      ></input>\r\n      <br></br>\r\n      <svg width=\"129\" height=\"10\">\r\n        <g>\r\n          <line x1=\"8\" y1=\"0\" x2=\"8\" y2=\"10\" stroke=\"#4682b4\" />\r\n          <line x1=\"23\" y1=\"0\" x2=\"23\" y2=\"10\" stroke=\"#4682b4\" />\r\n          <line x1=\"40\" y1=\"0\" x2=\"40\" y2=\"10\" stroke=\"#4682b4\" />\r\n          <line x1=\"57\" y1=\"0\" x2=\"57\" y2=\"10\" stroke=\"#4682b4\" />\r\n          <line x1=\"73\" y1=\"0\" x2=\"73\" y2=\"10\" stroke=\"#4682b4\" />\r\n          <line x1=\"90\" y1=\"0\" x2=\"90\" y2=\"10\" stroke=\"#4682b4\" />\r\n          <line x1=\"105\" y1=\"0\" x2=\"105\" y2=\"10\" stroke=\"#4682b4\" />\r\n          <line x1=\"120\" y1=\"0\" x2=\"120\" y2=\"10\" stroke=\"#4682b4\" />\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default selectPeriod;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { changeYear } from \"../stores/details\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { fetchData } from \"../api\";\r\nimport selectPeriod from \"./selectPeriod\";\r\n\r\n// import { changeFeature, changeYear } from \"../stores/Count\";\r\n\r\nconst Ranking = () => {\r\n  const dispatch = useDispatch();\r\n  const startMonth = useSelector((state) => state.detail.startMonth);\r\n  const endMonth = useSelector((state) => state.detail.endMonth);\r\n  const feature = useSelector((state) => state.detail.feature);\r\n  const country = useSelector((state) => state.detail.country);\r\n  const [dbData, setDbData] = useState([]);\r\n  const [da, setDa] = useState([]);\r\n\r\n  const array = [\"q\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n\r\n  // console.log(startMonth, endMonth, feature, country);\r\n  useEffect(() => {\r\n    // (async () => {\r\n    //   const data = await fetchData(startMonth, endMonth, feature, country);\r\n    //   setDbData(data);\r\n    // })();\r\n    // const simulation = f;\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"my-section\">\r\n      <div className=\"card\" style={{ height: \"50vh\" }}>\r\n        <div className=\"card-content\">\r\n          <div className=\"content\">ランキング</div>\r\n          <p>aaa</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ranking;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { forceSimulation, forceX, forceY, forceCollide } from \"d3-force\";\r\nimport { scaleLinear } from \"d3-scale\";\r\nimport { select } from \"d3-selection\";\r\nimport { extent } from \"d3-array\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { fetchData } from \"../api\";\r\nimport { axisBottom } from \"d3\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst Swarmplt = ({ width, height }) => {\r\n  const duration = 500;\r\n  const margin = {\r\n    top: 10,\r\n    bottom: 500,\r\n    left: 50,\r\n    right: 40,\r\n  };\r\n\r\n  const innerWidth = width - margin.left - margin.right;\r\n  const innerHeight = height;\r\n  const checkcoutry = [\"AU\", \"CA\", \"DE\", \"FR\", \"JP\", \"NL\", \"GB\", \"US\"];\r\n\r\n  const ref = useRef();\r\n  const svg = d3.select(ref.current);\r\n\r\n  const [dbData, setDbData] = useState([]);\r\n\r\n  const startMonth = useSelector((state) => state.detail.startMonth);\r\n  const endMonth = useSelector((state) => state.detail.endMonth);\r\n  const feature = useSelector((state) => state.detail.feature);\r\n  const country = useSelector((state) => state.detail.country);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const data = await fetchData(startMonth, endMonth, feature, country);\r\n      setDbData(data);\r\n    })();\r\n    console.log(1);\r\n    d3.select(ref.current)\r\n      .attr(\"width\", width)\r\n      .attr(\"height\", height)\r\n      .append(\"g\")\r\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\r\n  }, [startMonth, endMonth, feature, country]);\r\n\r\n  console.log(country, startMonth, endMonth, feature);\r\n  useEffect(() => {\r\n    draw();\r\n  }, [startMonth, endMonth, feature, country]);\r\n\r\n  const draw = () => {\r\n    console.log(startMonth, endMonth, dbData);\r\n    checkcoutry.map((item, i) => {\r\n      // //描画する国である＆空配列でない場合に描画?\r\n      if (country === item && dbData.length != 0) {\r\n        console.log(\"2 \" + country, startMonth, endMonth, dbData.length);\r\n        console.log(dbData);\r\n        const swarmplt = svg.select(\"g\");\r\n        const xScale = scaleLinear()\r\n          .domain(extent(dbData.map((d) => +d[feature])))\r\n          .range([525, 10]);\r\n\r\n        let streamDomain = extent(dbData.map((d) => d.stream));\r\n        streamDomain = streamDomain.map((d) => Math.sqrt(d));\r\n        let size = scaleLinear().domain(streamDomain).range([1, 7]);\r\n        let simulation = forceSimulation(dbData)\r\n          .force(\r\n            \"x\",\r\n            forceX((d) => {\r\n              return xScale(d[feature]);\r\n            }).strength(5)\r\n          )\r\n          .force(\r\n            \"y\",\r\n            forceY((d) => {\r\n              return 125;\r\n            }).strength(0.2)\r\n          )\r\n          .force(\r\n            \"collide\",\r\n            forceCollide((d) => {\r\n              return size(Math.sqrt(d.stream));\r\n            })\r\n          )\r\n          .alphaDecay(0)\r\n          .alpha(0.3)\r\n          .on(\"tick\", () =>\r\n            swarmplt\r\n              .selectAll(\"circle\")\r\n              .data(dbData)\r\n              .join(\"circle\")\r\n              .style(\"fill\", (d) => d3.interpolateTurbo(d[feature]))\r\n              .attr(\"stroke\", \"black\")\r\n              .on(\"mouseover\", (d) => {\r\n                console.log(d.target);\r\n              })\r\n              .on(\"mouseout\", function (d) {})\r\n              .attr(\"stroke-width\", \"0.1\")\r\n              .attr(\"opacity\", 0.7)\r\n              .attr(\"cx\", (d) => d.x)\r\n              .attr(\"cy\", (d) => d.y)\r\n              .attr(\"r\", (d) => size(Math.sqrt(d.stream)))\r\n          );\r\n        let init_decay = setTimeout(function () {\r\n          simulation.alphaDecay(0.05);\r\n        }, 5000);\r\n        const xAxis = d3.axisBottom().scale(xScale);\r\n\r\n        swarmplt\r\n          .selectAll(\".x.axis\")\r\n          .data([null])\r\n          .join(\"g\")\r\n          .classed(\"x axis\", true)\r\n          .attr(\"transform\", `translate(0,${innerHeight})`)\r\n          .transition()\r\n          .duration(duration)\r\n          .call(xAxis);\r\n      } else {\r\n        return;\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <svg width=\"650\" height=\"250\" viewBox=\"0 0 650 250\" ref={ref} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Swarmplt;\r\n","import React from \"react\";\r\nimport Swarmplt from \"./swarmplt\";\r\n\r\nconst Detail = () => {\r\n  return (\r\n    <div className=\"my-section\">\r\n      <div className=\"card\">\r\n        <div className=\"card-content\">\r\n          <div className=\"content\">\r\n            <Swarmplt />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Detail;\r\n","import { useEffect, useState } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport { fetchData } from \"../api\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  changeCountry,\r\n  changeEndMonth,\r\n  changeStartMonth,\r\n} from \"../stores/details\";\r\n\r\nfunction VerticalAxis({ len, countries, name, h }) {\r\n  return (\r\n    <g>\r\n      <text\r\n        transform={`rotate(-90)\r\n                translate(${-h / 2} -30)\r\n               `}\r\n        textAnchor=\"middle\"\r\n        dominantBaseline=\"central\"\r\n        fontSize=\"12\"\r\n        style={{ userSelect: \"none\" }}\r\n      >\r\n        {name}\r\n      </text>\r\n      {countries.map((country, i) => {\r\n        return (\r\n          <g transform={`translate(0, ${len * i + len / 2})`} key={i}>\r\n            <text\r\n              x=\"-5\"\r\n              textAnchor=\"end\"\r\n              dominantBaseline=\"central\"\r\n              fontSize=\"8\"\r\n              style={{ userSelect: \"none\" }}\r\n            >\r\n              {country}\r\n            </text>\r\n          </g>\r\n        );\r\n      })}\r\n    </g>\r\n  );\r\n}\r\n\r\nfunction HorizontalAxis({ len, term, name, w }) {\r\n  return (\r\n    <g>\r\n      <text\r\n        transform={`translate(${w / 2} -40)`}\r\n        textAnchor=\"middle\"\r\n        dominantBaseline=\"central\"\r\n        fontSize=\"12\"\r\n        style={{ userSelect: \"none\" }}\r\n      >\r\n        {name}\r\n      </text>\r\n      {term.map((t, i) => {\r\n        return (\r\n          <g transform={`translate(${len * i + len}, -15) rotate(-45)`} key={i}>\r\n            <text\r\n              x=\"0\"\r\n              textAnchor=\"middle\"\r\n              dominantBaseline=\"central\"\r\n              fontSize=\"8\"\r\n              style={{ userSelect: \"none\" }}\r\n            >\r\n              {t.start}\r\n            </text>\r\n          </g>\r\n        );\r\n      })}\r\n    </g>\r\n  );\r\n}\r\n\r\nfunction Legend({ h, w }) {\r\n  const ticks = [...Array(11)].map((_, i) => i);\r\n  return (\r\n    <g transform={`translate(${w + 5},55)`}>\r\n      {ticks.map((value, i) => {\r\n        return (\r\n          <g transform={`translate(0,${(h / ticks.length / 2) * i})`}>\r\n            <rect\r\n              width={10}\r\n              height={h / ticks.length / 2}\r\n              fill={d3.interpolateTurbo(1 - value / 10)}\r\n            ></rect>\r\n          </g>\r\n        );\r\n      })}\r\n    </g>\r\n  );\r\n}\r\n\r\nfunction HeatMapChart() {\r\n  /**startMonthとendMonth,countryは世界地図と連携づけるのに持っておく。今は未使用 */\r\n  /**dispatch change country*/\r\n  const dispatch = useDispatch();\r\n\r\n  const startMonth = useSelector((state) => state.detail.startMonth);\r\n  const endMonth = useSelector((state) => state.detail.endMonth);\r\n  const feature = useSelector((state) => state.detail.feature);\r\n  const country = useSelector((state) => state.detail.country);\r\n  const term = [\r\n    { start: \"2017-01\", end: \"2017-03\" },\r\n    { start: \"2017-04\", end: \"2017-06\" },\r\n    { start: \"2017-07\", end: \"2017-09\" },\r\n    { start: \"2017-10\", end: \"2017-12\" },\r\n    { start: \"2018-01\", end: \"2018-03\" },\r\n    { start: \"2018-04\", end: \"2018-06\" },\r\n    { start: \"2018-07\", end: \"2018-09\" },\r\n    { start: \"2018-10\", end: \"2018-12\" },\r\n    { start: \"2019-01\", end: \"2019-03\" },\r\n    { start: \"2019-04\", end: \"2019-06\" },\r\n    { start: \"2019-07\", end: \"2019-09\" },\r\n    { start: \"2019-10\", end: \"2019-12\" },\r\n    { start: \"2020-01\", end: \"2020-03\" },\r\n    { start: \"2020-04\", end: \"2020-06\" },\r\n    { start: \"2020-07\", end: \"2020-09\" },\r\n    { start: \"2020-10\", end: \"2020-12\" },\r\n  ];\r\n\r\n  const countries = [\"AU\", \"CA\", \"DE\", \"FR\", \"JP\", \"NL\", \"GB\", \"US\"];\r\n  const [heatMapData, setHeatMapData] = useState([]);\r\n  const [Max,setMax] = useState(-Infinity);\r\n  const [Min,setMin] = useState(Infinity);\r\n\r\n  useEffect(() => {\r\n    let Max = -Infinity;\r\n    let Min = Infinity;\r\n    (async () => {\r\n      /**TODO:改善 */\r\n      const data = await Promise.all(\r\n        countries.map(async (cId) => {\r\n          const countryData = { countryName: cId };\r\n          const timeData = await Promise.all(\r\n            term.map(async (t) => {\r\n              const data = await fetchData(t.start, t.end, feature, cId);\r\n              const weightAve = makeData(data, cId);\r\n              if(Max < weightAve && weightAve != null){\r\n                Max = weightAve;\r\n              }\r\n              if(Min > weightAve && weightAve != null){\r\n                Min = weightAve;\r\n              }\r\n              return { start: t.start, end: t.end, value: weightAve };\r\n            })\r\n          );\r\n          countryData[\"timeData\"] = timeData;\r\n          return countryData;\r\n        })\r\n      );\r\n      setHeatMapData(data);\r\n      setMax(Max);\r\n      setMin(Min);\r\n    })();\r\n  }, [feature]);\r\n  \r\n  console.log(Min,Max)\r\n  function makeData(data) {\r\n    let weightFeatureTotal = 0;\r\n    let streamTotal = 0;\r\n    let weightAve = null;\r\n    if (data.length) {\r\n      data.map((d) => {\r\n        streamTotal += d.stream;\r\n        weightFeatureTotal += d.stream * d[feature];\r\n      });\r\n      weightAve = weightFeatureTotal / streamTotal;\r\n    }\r\n    return weightAve;\r\n  }\r\n\r\n  const colorjudge = (item, start) => {\r\n    let color = \"lightgray\";\r\n    if (item !== null) {\r\n      color = d3.interpolateTurbo(opacityjudge(item, start));\r\n    }\r\n    return color;\r\n  };\r\n\r\n  const opacityjudge = (item, start) => {\r\n    let opacity = 0;\r\n    let opacityMax = 1;\r\n    let opacityMin = 0.1;\r\n    const termData = heatMapData\r\n      .map((country) => {\r\n        return country.timeData.filter((item) => item.start === start)[0].value;\r\n      })\r\n      .filter((t) => t);\r\n      \r\n    opacity =\r\n      ((opacityMax - opacityMin) * (item - Min)) / (Max - Min) +\r\n      opacityMin;\r\n    return opacity;\r\n  };\r\n\r\n  function changeInfo(start, end, countryCd) {\r\n    console.log(start, end, countryCd);\r\n    dispatch(changeCountry(countryCd));\r\n    dispatch(changeStartMonth(start));\r\n    dispatch(changeEndMonth(end));\r\n  }\r\n\r\n  const margin = {\r\n    left: 50,\r\n    right: 30,\r\n    top: 45,\r\n    bottom: 10,\r\n  };\r\n  const contentWidth = 250;\r\n  const contentHeight = 130;\r\n\r\n  const svgWidth = margin.left + margin.right + contentWidth;\r\n  const svgHeight = margin.top + margin.bottom + contentHeight;\r\n  /**TODO:引数渡していい感じにサイズとか調整できるようにする */\r\n  const len = 15;\r\n  return (\r\n    <div style={{ width: \"450px\" }}>\r\n      <div>\r\n        <svg\r\n          viewBox={`${-margin.left} ${-margin.top} ${svgWidth} ${svgHeight}`}\r\n          style={{ border: \"solid 0px\" }}\r\n        >\r\n          <VerticalAxis\r\n            len={len}\r\n            countries={countries}\r\n            name={\"country\"}\r\n            h={contentHeight}\r\n          />\r\n          <HorizontalAxis\r\n            len={len}\r\n            term={term}\r\n            name={\"term\"}\r\n            w={contentWidth}\r\n          />\r\n          <rect\r\n            x=\"0\"\r\n            y=\"0\"\r\n            fill=\"lightgray\"\r\n            height={len * countries.length}\r\n            width={len * term.length}\r\n          />\r\n\r\n          {/*<Legend h={contentWidth} w={contentWidth} />*/}\r\n\r\n          {heatMapData.map((country, i) => {\r\n            //console.log(country);\r\n            return country.timeData.map((item, j) => {\r\n              return (\r\n                <rect\r\n                  x={len * j}\r\n                  y={len * i}\r\n                  width={len}\r\n                  height={len}\r\n                  fill={colorjudge(item.value, item.start)}\r\n                  key={i * country.timeData.length + j}\r\n                  onClick={() => {\r\n                    changeInfo(item.start, item.end, country.countryName);\r\n                  }}\r\n                />\r\n              );\r\n            });\r\n          })}\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HeatMapChart;\r\n","import React from \"react\";\r\nimport HeatMapChart from \"./draw_heatmap\";\r\n\r\nconst HeatMap = () => {\r\n  return (\r\n    <div>\r\n        <HeatMapChart />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeatMap;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport { select } from \"d3-selection\";\r\nimport * as topojson from \"topojson\";\r\nimport { fetchData } from \"../api\";\r\nimport { changeCountry, changeFeature } from \"../stores/details\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst WorldMap = ({ features }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const startMonth = useSelector((state) => state.detail.startMonth);\r\n  const endMonth = useSelector((state) => state.detail.endMonth);\r\n  const feature = useSelector((state) => state.detail.feature);\r\n  const country = useSelector((state) => state.detail.country);\r\n\r\n  const term = [\r\n    { start: \"2017-01\", end: \"2017-03\" },\r\n    { start: \"2017-04\", end: \"2017-06\" },\r\n    { start: \"2017-07\", end: \"2017-09\" },\r\n    { start: \"2017-10\", end: \"2017-12\" },\r\n    { start: \"2018-01\", end: \"2018-03\" },\r\n    { start: \"2018-04\", end: \"2018-06\" },\r\n    { start: \"2018-07\", end: \"2018-09\" },\r\n    { start: \"2018-10\", end: \"2018-12\" },\r\n    { start: \"2019-01\", end: \"2019-03\" },\r\n    { start: \"2019-04\", end: \"2019-06\" },\r\n    { start: \"2019-07\", end: \"2019-09\" },\r\n    { start: \"2019-10\", end: \"2019-12\" },\r\n    { start: \"2020-01\", end: \"2020-03\" },\r\n    { start: \"2020-04\", end: \"2020-06\" },\r\n    { start: \"2020-07\", end: \"2020-09\" },\r\n    { start: \"2020-10\", end: \"2020-12\" },\r\n  ];\r\n\r\n  const countries = [\"AU\", \"CA\", \"DE\", \"FR\", \"JP\", \"NL\", \"GB\", \"US\"];\r\n  const [worldMapData, setWorldMapData] = useState([]);\r\n  const [Max,setMax] = useState(-Infinity);\r\n  const [Min,setMin] = useState(Infinity);\r\n  \r\n  useEffect(() => {\r\n    let Max = -Infinity;\r\n    let Min = Infinity;\r\n    (async () => {\r\n      /**TODO:改善 */\r\n      const data = await Promise.all(\r\n        countries.map(async (cId) => {\r\n          const countryData = { countryName: cId };\r\n          const timeData = await Promise.all(\r\n            term.map(async (t) => {\r\n              const data = await fetchData(t.start, t.end, feature, cId);\r\n              const weightAve = makeData(data, cId);\r\n              if(Max < weightAve && weightAve != null){\r\n                Max = weightAve;\r\n              }\r\n              if(Min > weightAve && weightAve != null){\r\n                Min = weightAve;\r\n              }\r\n              return { start: t.start, end: t.end, value: weightAve };\r\n            })\r\n          );\r\n          countryData[\"timeData\"] = timeData;\r\n          return countryData;\r\n        })\r\n      );\r\n      setWorldMapData(data);\r\n      setMax(Max);\r\n      setMin(Min);\r\n    })();\r\n  }, [feature]);\r\n\r\n  function makeData(data) {\r\n    let weightFeatureTotal = 0;\r\n    let streamTotal = 0;\r\n    let weightAve = null;\r\n    if (data.length) {\r\n      data.map((d) => {\r\n        streamTotal += d.stream;\r\n        weightFeatureTotal += d.stream * d[feature];\r\n      });\r\n      weightAve = weightFeatureTotal / streamTotal;\r\n    }\r\n    return weightAve;\r\n  }\r\n\r\n  const colorjudge = (item) => {\r\n    let color = \"white\";\r\n    worldMapData.map((data) => {\r\n      if(data.countryName === item.properties.ISO_A2){\r\n        data.timeData.map((t) => {\r\n          if(t.start === startMonth && t.value != null){\r\n            color = d3.interpolateTurbo(opacityjudge(t.value));\r\n          }\r\n        })\r\n      }   \r\n    })\r\n    return color; \r\n  }\r\n    \r\n  const opacityjudge = (item) => {\r\n    let opacity = 0;\r\n    let opacityMax = 1;\r\n    let opacityMin = 0.1;\r\n    opacity = ((opacityMax - opacityMin) * (item - Min)) / (Max - Min) + opacityMin;\r\n    return opacity;\r\n  };\r\n\r\n  const width = 630;\r\n  const height = 250;\r\n  const centerPos = [0, 0];\r\n  const scale = 75;\r\n\r\n  const projection = d3\r\n    .geoMercator()\r\n    .center(centerPos)\r\n    .translate([width / 2, height - 60])\r\n    .scale(scale);\r\n  const path = d3.geoPath().projection(projection);\r\n\r\n  return (\r\n    <div>\r\n        <svg viewBox=\"-30 -30 770 310\">\r\n          <g>\r\n            {features.map((item, i) => (\r\n              <path\r\n                d={path(item)}\r\n                fill={colorjudge(item)}\r\n                stroke=\"black\"\r\n                strokeWidth=\"1\"\r\n                strokeOpacity=\"0.5\"\r\n                countryname={item}\r\n                onMouseOver={(e) => {\r\n                  select(e.target).attr(\"stroke\", \"red\");\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  select(e.target).attr(\"stroke\", \"black\");\r\n                }}\r\n                onClick={() => {\r\n                  console.log(item.properties.ISO_A2);\r\n                  const c = item.properties.ISO_A2;\r\n                  dispatch(changeCountry(c));\r\n                }}\r\n                key={i}\r\n              />\r\n            ))}\r\n          </g>\r\n        </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const DrowWorldMap = () => {\r\n  const [features, setFeatures] = useState([]);\r\n  useEffect(() => {\r\n    (async () => {\r\n      const res = await fetch(`${process.env.PUBLIC_URL}/data/worldmap.json`);\r\n      const data = await res.json();\r\n      const { features } = topojson.feature(data, data.objects.worldmap);\r\n      setFeatures(features);\r\n    })();\r\n  }, []);\r\n  if (features == null) {\r\n    return <p>loading</p>;\r\n  }\r\n  return <WorldMap features={features} />;\r\n};\r\n","import React from \"react\";\r\nimport { DrowWorldMap } from \"./drow_worldmap\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  changeFeature,\r\n  changeStartMonth,\r\n  changeEndMonth,\r\n} from \"../stores/details\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst WorldMap = () => {\r\n  const dispatch = useDispatch();\r\n  const [year, setYear] = useState(0);\r\n  const startMonth = useSelector((state) => state.detail.startMonth);\r\n  const endMonth = useSelector((state) => state.detail.endMonth);\r\n  //let start = textYear[0][0];\r\n  //let end = textYear[0][1];\r\n  return (\r\n    <div>\r\n      <DrowWorldMap />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorldMap;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { changeFeature } from \"../stores/details\";\r\n\r\nconst selectFeature = () => {\r\n  const dispatch = useDispatch();\r\n  const elements = [\r\n    \"acousticness\",\r\n    \"danceability\",\r\n    \"energy\",\r\n    \"instrumentalness\",\r\n    \"liveness\",\r\n    \"loudness\",\r\n    \"mode\",\r\n    \"speechiness\",\r\n    \"tempo\",\r\n    \"time_signature\",\r\n    \"valence\",\r\n  ];\r\n  return (\r\n    <div>\r\n      <select\r\n        onChange={(event) => {\r\n          dispatch(changeFeature(event.target.value));\r\n        }}\r\n      >\r\n        {elements.map((element, i) => {\r\n          return <option>{element}</option>;\r\n        })}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default selectFeature;\r\n","import Header from \"./components/Header\";\r\nimport Footer from \"./components/Footer\";\r\nimport SimilarSongs from \"./components/SimilarSongs\";\r\nimport Song from \"./components/Song\";\r\nimport Ranking from \"./components/Ranking\";\r\nimport Detail from \"./components/Detail\";\r\nimport \"./style.css\";\r\nimport HeatMap from \"./components/HeatMap\";\r\nimport WorldMap from \"./components/WorldMap\";\r\nimport { useState } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport { select } from \"d3-selection\";\r\nimport SelectFeature from \"./components/selectFeature\";\r\n\r\nconst App = () => {\r\n  const aboutColorGradations = [\r\n    [0, 0],\r\n    [0.1, 25],\r\n    [0.2, 50],\r\n    [0.3, 75],\r\n    [0.4, 100],\r\n    [0.5, 125],\r\n    [0.6, 150],\r\n    [0.7, 175],\r\n    [0.8, 200],\r\n    [0.9, 225],\r\n    [1, 250],\r\n  ];\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"columns is-gapless\">\r\n        <div className=\"column\">\r\n          <div className=\"my-section\">\r\n            <div className=\"card\">\r\n              <div className=\"card-content\">\r\n                <div className=\"content\">\r\n                  <WorldMap />\r\n                </div>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <div className=\"content\">\r\n                  <footer class=\"card-footer\">\r\n                    <p class=\"card-footer-item\">\r\n                      <span>\r\n                        <SelectFeature />\r\n                      </span>\r\n                    </p>\r\n                    <p class=\"card-footer-item\">\r\n                      <span>\r\n                        <svg width=\"255\" height=\"50\">\r\n                          <g>\r\n                            <defs>\r\n                              <linearGradient id=\"gradient\">\r\n                                <stop\r\n                                  offset=\"0%\"\r\n                                  stop-color={d3.interpolateTurbo(0)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"5%\"\r\n                                  stop-color={d3.interpolateTurbo(0.05)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"10%\"\r\n                                  stop-color={d3.interpolateTurbo(0.1)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"15%\"\r\n                                  stop-color={d3.interpolateTurbo(0.15)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"20%\"\r\n                                  stop-color={d3.interpolateTurbo(0.2)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"25%\"\r\n                                  stop-color={d3.interpolateTurbo(0.25)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"30%\"\r\n                                  stop-color={d3.interpolateTurbo(0.3)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"35%\"\r\n                                  stop-color={d3.interpolateTurbo(0.35)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"40%\"\r\n                                  stop-color={d3.interpolateTurbo(0.4)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"45%\"\r\n                                  stop-color={d3.interpolateTurbo(0.45)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"50%\"\r\n                                  stop-color={d3.interpolateTurbo(0.5)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"55%\"\r\n                                  stop-color={d3.interpolateTurbo(0.55)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"60%\"\r\n                                  stop-color={d3.interpolateTurbo(0.6)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"65%\"\r\n                                  stop-color={d3.interpolateTurbo(0.65)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"70%\"\r\n                                  stop-color={d3.interpolateTurbo(0.7)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"75%\"\r\n                                  stop-color={d3.interpolateTurbo(0.75)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"80%\"\r\n                                  stop-color={d3.interpolateTurbo(0.8)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"85%\"\r\n                                  stop-color={d3.interpolateTurbo(0.85)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"90%\"\r\n                                  stop-color={d3.interpolateTurbo(0.9)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"95%\"\r\n                                  stop-color={d3.interpolateTurbo(0.95)}\r\n                                />\r\n                                <stop\r\n                                  offset=\"100%\"\r\n                                  stop-color={d3.interpolateTurbo(1)}\r\n                                />\r\n                              </linearGradient>\r\n                            </defs>\r\n                            <rect\r\n                              x=\"0\"\r\n                              y=\"10\"\r\n                              width=\"250\"\r\n                              height=\"20\"\r\n                              fill=\"url('#gradient')\"\r\n                            />\r\n                            {aboutColorGradations.map((item, i) => {\r\n                              return (\r\n                                <line\r\n                                  x1={item[1]}\r\n                                  y1=\"30\"\r\n                                  x2={item[1]}\r\n                                  y2=\"40\"\r\n                                  stroke=\"black\"\r\n                                />\r\n                              );\r\n                            })}\r\n                            {aboutColorGradations.map((item, i) => {\r\n                              return (\r\n                                <text\r\n                                  x={item[1]}\r\n                                  y=\"50\"\r\n                                  font-size=\"10\"\r\n                                  text-anchor=\"start\"\r\n                                >\r\n                                  {item[0]}\r\n                                </text>\r\n                              );\r\n                            })}\r\n                          </g>\r\n                        </svg>\r\n                      </span>\r\n                    </p>\r\n                  </footer>\r\n                  \r\n                </div>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <div className=\"content\">\r\n                  <HeatMap />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"column\">\r\n          <Detail />\r\n          <div className=\"columns is-gapless\">\r\n            <div className=\"column\">\r\n              <Ranking />\r\n            </div>\r\n            <div className=\"column\">\r\n              <Song />\r\n              <SimilarSongs />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n//変数の宣言\r\nconst initialState = {\r\n  count: 0,\r\n};\r\n\r\n//storeと呼ばれるデータの格納場所をsliceという名前で分割して役割ごとにそれぞれの変数で管理する\r\nconst slice = createSlice({\r\n  //userという名前のsliceを作成\r\n  name: \"user\",\r\n  //初期値としてinitialStateで宣言した値が使われる\r\n  initialState,\r\n  reducers: {\r\n    //ここで関数を作成する\r\n    CountUp: (state, action) => {\r\n      //state.変数名で値を参照、変更できる\r\n      //action.payloadでcompnents.ファイル名で宣言した関数で呼び出した引数を持ってくる\r\n      state.count += action.payload;\r\n    },\r\n    CountDown: (state, action) => {\r\n      state.count -= action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default slice.reducer;\r\nexport const { CountUp, CountDown } = slice.actions;\r\n","import { combineReducers } from \"redux\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nimport userReducer from \"./Count\";\r\nimport detailReducer from \"./details\";\r\n\r\n//sliceをくっつけてstoreとする\r\nconst reducer = combineReducers({\r\n  user: userReducer,\r\n  detail: detailReducer,\r\n});\r\n\r\nconst store = configureStore({ reducer });\r\n\r\nexport default store;\r\n","import { render } from \"react-dom\";\r\nimport App from \"./App\";\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./stores/\";\r\nimport \"bulma/css/bulma.css\";\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#content\")\r\n);\r\n"],"sourceRoot":""}